<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>23-å¦‚ä½•æ„é€ é…·ç‚«çš„ç‰©ç†æ•ˆæœå’Œè¿‡åœºåŠ¨ç”»æ•ˆæœï¼Ÿ</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <style>
        html {
            color: #333;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            text-rendering: optimizelegibility;
            font-family: Helvetica Neue, PingFang SC, Verdana, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, sans-serif
        }

        html.borderbox *,
        html.borderbox :after,
        html.borderbox :before {
            box-sizing: border-box
        }

        article,
        aside,
        blockquote,
        body,
        button,
        code,
        dd,
        details,
        dl,
        dt,
        fieldset,
        figcaption,
        figure,
        footer,
        form,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        header,
        hr,
        input,
        legend,
        li,
        menu,
        nav,
        ol,
        p,
        pre,
        section,
        td,
        textarea,
        th,
        ul {
            margin: 0;
            padding: 0
        }

        article,
        aside,
        details,
        figcaption,
        figure,
        footer,
        header,
        menu,
        nav,
        section {
            display: block
        }

        audio,
        canvas,
        video {
            display: inline-block
        }

        body,
        button,
        input,
        select,
        textarea {
            font: 300 1em/1.8 PingFang SC, Lantinghei SC, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, Helvetica, sans-serif
        }

        button::-moz-focus-inner,
        input::-moz-focus-inner {
            padding: 0;
            border: 0
        }

        table {
            border-collapse: collapse;
            border-spacing: 0
        }

        fieldset,
        img {
            border: 0
        }

        blockquote {
            position: relative;
            color: #999;
            font-weight: 400;
            border-left: 1px solid #1abc9c;
            padding-left: 1em;
            margin: 1em 3em 1em 2em
        }

        @media only screen and (max-width: 640px) {
            blockquote {
                margin: 1em 0
            }
        }

        abbr,
        acronym {
            border-bottom: 1px dotted;
            font-variant: normal
        }

        abbr {
            cursor: help
        }

        del {
            text-decoration: line-through
        }

        address,
        caption,
        cite,
        code,
        dfn,
        em,
        th,
        var {
            font-style: normal;
            font-weight: 400
        }

        ol,
        ul {
            list-style: none
        }

        caption,
        th {
            text-align: left
        }

        q:after,
        q:before {
            content: ""
        }

        sub,
        sup {
            font-size: 75%;
            line-height: 0;
            position: relative
        }

        :root sub,
        :root sup {
            vertical-align: baseline
        }

        sup {
            top: -.5em
        }

        sub {
            bottom: -.25em
        }

        a {
            color: #1abc9c
        }

        a:hover {
            text-decoration: underline
        }

        .typo a {
            border-bottom: 1px solid #1abc9c
        }

        .typo a:hover {
            border-bottom-color: #555;
            color: #555
        }

        .typo a:hover,
        a,
        ins {
            text-decoration: none
        }

        .typo-u,
        u {
            text-decoration: underline
        }

        mark {
            background: #fffdd1;
            border-bottom: 1px solid #ffedce;
            padding: 2px;
            margin: 0 5px
        }

        code,
        pre,
        pre tt {
            font-family: Courier, Courier New, monospace
        }

        pre {
            background: hsla(0, 0%, 97%, .7);
            border: 1px solid #ddd;
            padding: 1em 1.5em;
            display: block;
            -webkit-overflow-scrolling: touch
        }

        hr {
            border: none;
            border-bottom: 1px solid #cfcfcf;
            margin-bottom: .8em;
            height: 10px
        }

        .typo-small,
        figcaption,
        small {
            font-size: .9em;
            color: #888
        }

        b,
        strong {
            font-weight: 700;
            color: #000
        }

        [draggable] {
            cursor: move
        }

        .clearfix:after,
        .clearfix:before {
            content: "";
            display: table
        }

        .clearfix:after {
            clear: both
        }

        .clearfix {
            zoom: 1
        }

        .textwrap,
        .textwrap td,
        .textwrap th {
            word-wrap: break-word;
            word-break: break-all
        }

        .textwrap-table {
            table-layout: fixed
        }

        .serif {
            font-family: Palatino, Optima, Georgia, serif
        }

        .typo-dl,
        .typo-form,
        .typo-hr,
        .typo-ol,
        .typo-p,
        .typo-pre,
        .typo-table,
        .typo-ul,
        .typo dl,
        .typo form,
        .typo hr,
        .typo ol,
        .typo p,
        .typo pre,
        .typo table,
        .typo ul,
        blockquote {
            margin-bottom: 1rem
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: PingFang SC, Helvetica Neue, Verdana, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, sans-serif;
            color: #000;
            line-height: 1.35
        }

        .typo-h1,
        .typo-h2,
        .typo-h3,
        .typo-h4,
        .typo-h5,
        .typo-h6,
        .typo h1,
        .typo h2,
        .typo h3,
        .typo h4,
        .typo h5,
        .typo h6 {
            margin-top: 1.2em;
            margin-bottom: .6em;
            line-height: 1.35
        }

        .typo-h1,
        .typo h1 {
            font-size: 2em
        }

        .typo-h2,
        .typo h2 {
            font-size: 1.8em
        }

        .typo-h3,
        .typo h3 {
            font-size: 1.6em
        }

        .typo-h4,
        .typo h4 {
            font-size: 1.4em
        }

        .typo-h5,
        .typo-h6,
        .typo h5,
        .typo h6 {
            font-size: 1.2em
        }

        .typo-ul,
        .typo ul {
            margin-left: 1.3em;
            list-style: disc
        }

        .typo-ol,
        .typo ol {
            list-style: decimal;
            margin-left: 1.9em
        }

        .typo-ol ol,
        .typo-ol ul,
        .typo-ul ol,
        .typo-ul ul,
        .typo li ol,
        .typo li ul {
            margin-bottom: .8em;
            margin-left: 2em
        }

        .typo-ol ul,
        .typo-ul ul,
        .typo li ul {
            list-style: circle
        }

        .typo-table td,
        .typo-table th,
        .typo table caption,
        .typo table td,
        .typo table th {
            border: 1px solid #ddd;
            padding: .5em 1em;
            color: #666
        }

        .typo-table th,
        .typo table th {
            background: #fbfbfb
        }

        .typo-table thead th,
        .typo table thead th {
            background: hsla(0, 0%, 95%, .7)
        }

        .typo table caption {
            border-bottom: none
        }

        .typo-input,
        .typo-textarea {
            -webkit-appearance: none;
            border-radius: 0
        }

        .typo-em,
        .typo em,
        caption,
        legend {
            color: #000;
            font-weight: inherit
        }

        .typo-em {
            position: relative
        }

        .typo-em:after {
            position: absolute;
            top: .65em;
            left: 0;
            width: 100%;
            overflow: hidden;
            white-space: nowrap;
            content: "\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB"
        }

        .typo img {
            max-width: 100%
        }

        .common-content {
            font-weight: 400;
            color: #353535;
            line-height: 1.75rem;
            white-space: normal;
            word-break: normal;
            font-size: 1rem
        }

        .common-content img {
            display: block;
            max-width: 100%;
            background-color: #eee
        }

        .common-content audio,
        .common-content video {
            width: 100%;
            background-color: #eee
        }

        .common-content center,
        .common-content font {
            margin-top: 1rem;
            display: inline-block
        }

        .common-content center {
            width: 100%
        }

        .common-content pre {
            margin-top: 1rem;
            padding-left: 0;
            padding-right: 0;
            position: relative;
            overflow: hidden
        }

        .common-content pre code {
            font-size: .8rem;
            font-family: Consolas, Liberation Mono, Menlo, monospace, Courier;
            display: block;
            width: 100%;
            box-sizing: border-box;
            padding-left: 1rem;
            padding-right: 1rem;
            overflow-x: auto
        }

        .common-content hr {
            border: none;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-top: 1px solid #f5f5f5;
            height: 1px;
            background: none
        }

        .common-content b,
        .common-content h1,
        .common-content h2,
        .common-content h3,
        .common-content h4,
        .common-content h5,
        .common-content strong {
            font-weight: 700
        }

        .common-content h1,
        .common-content h2 {
            font-size: 1.125rem;
            margin-bottom: .45rem
        }

        .common-content h3,
        .common-content h4,
        .common-content h5 {
            font-size: 1rem;
            margin-bottom: .45rem
        }

        .common-content p {
            font-weight: 400;
            color: #353535;
            margin-top: .15rem
        }

        .common-content .orange {
            color: #ff5a05
        }

        .common-content .reference {
            font-size: 1rem;
            color: #888
        }

        .custom-rich-content h1 {
            margin-top: 0;
            font-weight: 400;
            font-size: 15.25px;
            border-bottom: 1px solid #eee;
            line-height: 2.8
        }

        .custom-rich-content li,
        .custom-rich-content p {
            font-size: 14px;
            color: #888;
            line-height: 1.6
        }

        table.hljs-ln {
            margin-bottom: 0;
            border-spacing: 0;
            border-collapse: collapse
        }

        table.hljs-ln,
        table.hljs-ln tbody,
        table.hljs-ln td,
        table.hljs-ln tr {
            box-sizing: border-box
        }

        table.hljs-ln td {
            padding: 0;
            border: 0
        }

        table.hljs-ln td.hljs-ln-numbers {
            min-width: 15px;
            color: rgba(27, 31, 35, .3);
            text-align: right;
            white-space: nowrap;
            cursor: pointer;
            user-select: none
        }

        table.hljs-ln td.hljs-ln-code,
        table.hljs-ln td.hljs-ln-numbers {
            font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
            font-size: 12px;
            line-height: 20px;
            vertical-align: top
        }

        table.hljs-ln td.hljs-ln-code {
            position: relative;
            padding-right: 10px;
            padding-left: 10px;
            overflow: visible;
            color: #24292e;
            word-wrap: normal;
            white-space: pre
        }

        video::-webkit-media-controls {
            overflow: hidden !important
        }

        video::-webkit-media-controls-enclosure {
            width: calc(100% + 32px);
            margin-left: auto
        }

        ._29HP61GA_0 {
            max-width:800px;
            margin:0 auto;
            margin-bottom: 20px;
            font-weight: 400;
            color: #353535;
            line-height: 1.76;
            white-space: normal;
            word-break: normal;
            font-size: 17px;
            -webkit-transition: background-color .3s ease;
            transition: background-color .3s ease
        }

        ._29HP61GA_0 .MathJax_Display {
            overflow: auto
        }

        ._29HP61GA_0 .poster {
            position: fixed;
            left: -10000px;
            top: -10000px;
            overflow: hidden;
            padding: 1rem;
            background: #ececec
        }

        ._29HP61GA_0 .richcontent-pre-copy {
            font-size: 13px;
            color: #888;
            position: absolute;
            right: 1em;
            top: .5em;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none
        }

        ._29HP61GA_0 .richcontent-pre-copy .iconfont {
            font-size: 12px;
            margin-right: .2em
        }

        ._29HP61GA_0 a {
            color: #fa8919;
            border-bottom: 1px solid #fa8919
        }

        ._29HP61GA_0 img {
            display: block;
            max-width: 100%;
            position: relative;
            left: 50%;
            -webkit-transform: translateX(-50%);
            transform: translateX(-50%);
            background-color: #eee;
            vertical-align: top;
            border-radius: 0
        }

        ._29HP61GA_0 audio,
        ._29HP61GA_0 video {
            width: 100%;
            background-color: #eee
        }

        ._29HP61GA_0 pre {
            margin-top: 16px;
            padding: 34px 0 0;
            margin-bottom: 30px;
            position: relative;
            border-radius: 6px;
            background: rgba(246, 247, 251, .749);
            border: 0
        }

        ._29HP61GA_0 pre code {
            font-size: 12px;
            font-family: Consolas, Liberation Mono, Menlo, monospace, Courier;
            display: block;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            margin-left: 16px;
            margin-right: 16px;
            overflow-x: scroll
        }

        ._29HP61GA_0 pre code:after {
            content: "";
            height: 30px;
            width: 100%;
            display: block
        }

        ._29HP61GA_0 hr {
            border: none;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-top: 1px solid #f5f5f5;
            height: 1px;
            background: none
        }

        ._29HP61GA_0 h1,
        ._29HP61GA_0 h2,
        ._29HP61GA_0 h3,
        ._29HP61GA_0 h4,
        ._29HP61GA_0 h5 {
            margin-bottom: 20px;
            margin-top: 0;
            font-weight: 700
        }

        ._29HP61GA_0 b,
        ._29HP61GA_0 strong {
            font-weight: 700
        }

        ._29HP61GA_0 h1 {
            font-size: 21px
        }

        ._29HP61GA_0 h2 {
            font-size: 20px
        }

        ._29HP61GA_0 h3 {
            font-size: 19px
        }

        ._29HP61GA_0 h4 {
            font-size: 18px
        }

        ._29HP61GA_0 h5 {
            font-size: 17px
        }

        ._29HP61GA_0 center,
        ._29HP61GA_0 p {
            font-weight: 400;
            color: #353535;
            margin-top: 0;
            margin-bottom: 30px;
            word-break: break-word
        }

        ._29HP61GA_0 center {
            text-align: center
        }

        ._29HP61GA_0 blockquote {
            margin-top: 0;
            margin-bottom: 34px;
            border-left: 3px solid #e8e8e8;
            padding-left: 17px;
            color: #353535
        }

        ._29HP61GA_0 blockquote p {
            margin-top: 0;
            margin-bottom: 0
        }

        ._29HP61GA_0 ol,
        ._29HP61GA_0 ul {
            margin-bottom: 30px
        }

        ._29HP61GA_0 ol p,
        ._29HP61GA_0 ul p {
            margin-top: 0;
            margin-bottom: 0
        }

        ._29HP61GA_0 ol {
            list-style: decimal;
            margin-left: 20px
        }

        ._29HP61GA_0 ul li {
            padding-left: 17px;
            position: relative;
            margin-bottom: 10px
        }

        ._29HP61GA_0 ul li:after {
            content: "";
            height: 6px;
            width: 6px;
            border-radius: 50%;
            background: #353535;
            position: absolute;
            top: 10px;
            left: 0
        }

        ._29HP61GA_0 .orange {
            color: #fa8919
        }

        ._29HP61GA_0 .reference {
            color: #888
        }

        ._29HP61GA_0 .m-right {
            text-align: right
        }

        ._29HP61GA_0 .m-center {
            text-align: center;
            display: block
        }

        ._29HP61GA_0 .m-gray {
            color: #888
        }

        ._29HP61GA_0 .m-small {
            font-size: 15px
        }

        ._29HP61GA_0 table.hljs-ln {
            margin-bottom: 0;
            border-spacing: 0;
            border-collapse: collapse
        }

        ._29HP61GA_0 table.hljs-ln,
        ._29HP61GA_0 table.hljs-ln tbody,
        ._29HP61GA_0 table.hljs-ln td,
        ._29HP61GA_0 table.hljs-ln tr {
            -webkit-box-sizing: border-box;
            box-sizing: border-box
        }

        ._29HP61GA_0 table.hljs-ln td {
            padding: 0;
            border: 0
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers {
            min-width: 15px;
            font-size: 12px;
            color: rgba(27, 31, 35, .3);
            text-align: right;
            white-space: nowrap;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-code,
        ._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers {
            font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
            line-height: 20px;
            vertical-align: top
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-code {
            position: relative;
            padding-right: 10px;
            padding-left: 10px;
            overflow: visible;
            font-size: 13px;
            color: #666;
            word-wrap: normal;
            white-space: pre
        }

    </style>
</head>
<body>
<div class="_29HP61GA_0">
<h1>23-å¦‚ä½•æ„é€ é…·ç‚«çš„ç‰©ç†æ•ˆæœå’Œè¿‡åœºåŠ¨ç”»æ•ˆæœï¼Ÿ</h1>
<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æˆ´é“­ã€‚ä»Šå¤©ï¼Œæˆ‘è¦å’Œä½ åˆ†äº«çš„æ˜¯å¦‚ä½•ä¸ºä½  App æ·»åŠ é…·ç‚«çš„åŠ¨ç”»æ•ˆæœã€‚</p><p>ä¸è®ºæ˜¯iOSå¼€å‘ï¼Œè¿˜æ˜¯Androidå¼€å‘ï¼Œç°åœ¨çš„åŠ¨ç”»åº“å·®ä¸å¤šéƒ½éœ€è¦æ‰‹åŠ¨å»ç¼–å†™åŠ¨ç”»ä»£ç ã€‚è¿™æ ·çš„è¯ï¼ŒiOS å’Œ Android å¼€å‘è€…å°±éœ€è¦åˆ†åˆ«å»ç¼–å†™é€‚åˆè‡ªå·±ç³»ç»Ÿçš„ä»£ç ã€‚è€Œä¸”ï¼Œæ‰‹åŠ¨ç¼–å†™åŠ¨ç”»çš„ä»£ç ä¹Ÿéå¸¸å¤æ‚ï¼Œä¸å®¹æ˜“ç»´æŠ¤ï¼Œå¾ˆå¤šåŠ¨ç”»ç»†èŠ‚çš„è°ƒæ•´è¿˜éœ€è¦å’ŒåŠ¨ç”»è®¾è®¡å¸ˆä¸æ–­æ²Ÿé€šæ‰“ç£¨ï¼Œå°¤å…¶æ˜¯åƒè¡Œä»¥ä¸Šçš„åŠ¨ç”»ä»£ç ç¼–å†™ã€ç»´æŠ¤ã€æ²Ÿé€šçš„æˆæœ¬å·¨å¤§ã€‚</p><p>æ‰‹åŠ¨ç¼–å†™åŠ¨ç”»ä»£ç ï¼Œé™¤äº†ä¼šå½±å“åˆ°å¼€å‘è€…å¤–ï¼ŒåŠ¨ç”»è®¾è®¡å¸ˆä¹Ÿéš¾ä»¥å¹¸å…ã€‚ä¸€æ¬¾äº§å“é€‚é…çš„å¹³å°è¶Šå¤šï¼ŒåŠ¨ç”»è®¾è®¡å¸ˆè®¾è®¡èµ°æŸ¥çš„å‘¨æœŸå°±è¶Šé•¿ï¼Œç›¸åº”çš„åŠ¨ç”»æˆæœ¬å°±è¶Šé«˜ã€‚åŒæ—¶ï¼ŒåŠ¨ç”»è®¾è®¡å¸ˆå¾ˆå…´å¥‹åœ°è®¾è®¡å‡ºä¸€å¥—ç‚«é…·åœ°åŠ¨ç”»æ•ˆæœåï¼Œåœ¨è¦é€šè¿‡å¼€å‘è€…å®ç°å‡ºæ¥æ—¶ï¼Œå´å› ä¸ºå·¥æ—¶è¯„ä¼°è¿‡é•¿è€Œä¸€å†è¢«ç®€åŒ–ï¼Œç”šè‡³è¢«ç›´æ¥å–æ¶ˆã€‚è¯•æƒ³ä¸€ä¸‹ï¼Œä»¥åä»–è¿˜ä¼šåŠ¨åŠ›åè¶³åœ°å»è®¾è®¡é…·ç‚«çš„åŠ¨ç”»æ•ˆæœå—ï¼Ÿ</p><p>æ‰€ä»¥ï¼Œä½ ä¼šå‘ç°ç°åœ¨æœ‰é…·ç‚«çš„åŠ¨ç”»æ•ˆæœçš„ App éå¸¸å°‘ï¼Œè€Œä¸”å¤šæ˜¯å‡ºè‡ªä¸ªäººå¼€å‘è€…ä¹‹æ‰‹ã€‚é‚£ä¹ˆï¼Œè¿™å°±æé«˜äº†å¯¹ä¸ªäººå¼€å‘è€…çš„è¦æ±‚ï¼Œä¸ä½†è¦æ±‚ä»–ä»£ç å†™å¾—å¥½ï¼Œè¿˜è¦èƒ½å¤Ÿè®¾è®¡å‡ºå¥½çš„åŠ¨ç”»æ•ˆæœã€‚ä½†æ˜¯ï¼Œè¿™æ ·çš„äººæ‰ä¹Ÿæ˜¯ä¸å¯å¤šå¾—ã€‚</p><p>é‚£ï¼Œåˆ°åº•æœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•èƒ½å¤ŸæŠŠåŠ¨ç”»åˆ¶ä½œå’ŒAppå¼€å‘éš”ç¦»å¼€ï¼Œä¸“äººåšä¸“äº‹ï¼Œè€Œä¸”è¿˜èƒ½ä½¿å¾—å¤šä¸ªå¹³å°çš„åŠ¨ç”»æ•ˆæœä¿æŒä¸€è‡´å‘¢ï¼Ÿ</p><!-- [[[read_end]]] --><p>åŠæ³•æ€»æ¯”å›°éš¾å¤šã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±ä¸€èµ·çœ‹çœ‹å¦‚ä½•å®ç°çš„é—®é¢˜å§ã€‚</p><h2>Lottie</h2><p><a href="http://airbnb.io/lottie/#/">Lottie æ¡†æ¶</a>å°±å¾ˆå¥½åœ°è§£å†³äº†åŠ¨ç”»åˆ¶ä½œä¸å¼€å‘éš”ç¦»ï¼Œä»¥åŠå¤šå¹³å°ç»Ÿä¸€çš„é—®é¢˜ã€‚</p><p>Lottie æ˜¯ Airbnb å¼€æºçš„ä¸€ä¸ªåŠ¨ç”»æ¡†æ¶ã€‚Lottie è¿™ä¸ªåå­—æ¥è‡ªäºä¸€åå¾·å›½å¯¼æ¼”æ´›ç‰¹Â·èµ–å°¼æ ¼å°”ï¼ˆLotte Reinigerï¼‰ï¼Œå¥¹æœ€è‘—åçš„ç”µå½±å«ä½œâ€œé˜¿èµ«è¿ˆå¾·ç‹å­å†é™©è®°ï¼ˆThe Adventures of Prince Achmedï¼‰â€ã€‚è¿™ä¸ªæ¡†æ¶å’Œå…¶ä»–çš„åŠ¨ç”»æ¡†æ¶ä¸å¤ªä¸€æ ·ï¼ŒåŠ¨ç”»çš„ç¼–å†™å’Œç»´æŠ¤å°†ç”±åŠ¨ç”»è®¾è®¡å¸ˆå®Œæˆï¼Œå®Œå…¨æ— éœ€å¼€å‘è€…æ“å¿ƒã€‚</p><p>åŠ¨ç”»è®¾è®¡å¸ˆåšå¥½åŠ¨ç”»ä»¥åï¼Œå¯ä»¥ä½¿ç”¨<a href="https://www.adobe.com/products/aftereffects.html">After Effects</a>å°†åŠ¨ç”»å¯¼å‡ºæˆJSONæ–‡ä»¶ï¼Œç„¶åç”±Lottie åŠ è½½å’Œæ¸²æŸ“è¿™ä¸ªJSONæ–‡ä»¶ï¼Œå¹¶è½¬æ¢æˆå¯¹åº”çš„åŠ¨ç”»ä»£ç ã€‚ç”±äºæ˜¯JSONæ ¼å¼ï¼Œæ–‡ä»¶ä¹Ÿä¼šå¾ˆå°ï¼Œå¯ä»¥å‡å°‘ App åŒ…å¤§å°ã€‚è¿è¡Œæ—¶è¿˜å¯ä»¥é€šè¿‡ä»£ç æ§åˆ¶æ›´æ”¹åŠ¨ç”»ï¼Œæ¯”å¦‚æ›´æ”¹é¢œè‰²ã€ä½ç½®ä»¥åŠä»»ä½•å…³é”®å€¼ã€‚å¦å¤–ï¼ŒLottie è¿˜æ”¯æŒé¡µé¢åˆ‡æ¢çš„è¿‡åœºåŠ¨ç”»ï¼ˆUIViewController Transitionsï¼‰ã€‚</p><p>ä¸‹é¢çš„ä¸¤å¼ åŠ¨ç”»ï¼Œå°±æ˜¯ä½¿ç”¨Lottie åšå‡ºæ¥çš„æ•ˆæœã€‚<br>
<img src="https://static001.geekbang.org/resource/image/4a/c9/4a6a19fdb4fc53757d27ddb6aa4380c9.gif" alt=""></p><p><img src="https://static001.geekbang.org/resource/image/27/75/270ed9bc73a18fde74611bdbef419975.gif" alt=""></p><p>ä¸Šé¢è¿™äº›åŠ¨ç”»ï¼Œå°±æ˜¯ç”±åŠ¨ç”»è®¾è®¡å¸ˆä½¿ç”¨ After Effects åˆ›ä½œï¼Œç„¶åä½¿ç”¨ <a href="https://github.com/airbnb/lottie-web">Bodymovin</a>è¿›è¡Œå¯¼å‡ºçš„ï¼Œå¼€å‘è€…å®Œå…¨ä¸ç”¨åšä»€ä¹ˆé¢å¤–çš„ä»£ç å·¥ä½œï¼Œå°±èƒ½å¤Ÿä½¿ç”¨åŸç”Ÿæ–¹å¼å°†å…¶æ¸²æŸ“å‡ºæ¥ã€‚</p><p>Bodymovin æ˜¯ Hernan Torrisi åšçš„ä¸€ä¸ª After Effects çš„æ’ä»¶ï¼Œèµ·åˆå¯¼å‡ºçš„JSONæ–‡ä»¶åªæ˜¯é€šè¿‡ JavaScript åœ¨ç½‘é¡µä¸­è¿›è¡ŒåŠ¨ç”»çš„æ’­æ”¾ï¼Œåæ¥æ‰å°†JSONæ–‡ä»¶çš„è§£ææ¸²æŸ“åº”ç”¨åˆ°äº†å…¶ä»–å¹³å°ä¸Šã€‚</p><p>é‚£ä¹ˆï¼Œå¦‚ä½•ä½¿ç”¨ Bodymovin å‘¢ï¼Ÿ</p><h2>Bodymovin</h2><p>ä½ éœ€è¦å…ˆåˆ°<a href="https://www.adobeexchange.com/creativecloud.details.12557.html">Adobeå®˜ç½‘</a>ä¸‹è½½Bodymovinæ’ä»¶ï¼Œå¹¶åœ¨ After Effects ä¸­å®‰è£…ã€‚ä½¿ç”¨ After Effects åˆ¶ä½œå®ŒåŠ¨ç”»åï¼Œé€‰æ‹© Windows èœå•ï¼Œæ‰¾åˆ° Extensions çš„ Bodymovin é¡¹ï¼Œåœ¨èœå•ä¸­é€‰æ‹© Render æŒ‰é’®å°±å¯ä»¥è¾“å‡ºJSONæ–‡ä»¶äº†ã€‚</p><p><a href="https://lottiefiles.com/">LottieFilesç½‘ç«™</a>è¿˜æ˜¯ä¸€ä¸ªåŠ¨ç”»è®¾è®¡å¸ˆåˆ†äº«ä½œå“çš„å¹³å°ï¼Œæ¯ä¸ªåŠ¨ç”»æ•ˆæœçš„JSONæ–‡ä»¶éƒ½å¯ä¸‹è½½ä½¿ç”¨ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ ç°åœ¨æ²¡æœ‰åŠ¨ç”»è®¾è®¡å¸ˆé…åˆçš„è¯ï¼Œå¯ä»¥åˆ°è¿™ä¸ªç½‘ç«™å»æŸ¥æ‰¾å¹¶ä¸‹è½½ä¸€ä¸ª Bodymovin ç”Ÿæˆçš„JSONæ–‡ä»¶ï¼Œç„¶åè¿ç”¨åˆ°å·¥ç¨‹ä¸­å»è¯•è¯•æ•ˆæœã€‚</p><h2>åœ¨ iOS ä¸­ä½¿ç”¨ Lottie</h2><p>åœ¨iOSå¼€å‘ä¸­ä½¿ç”¨Lottieä¹Ÿå¾ˆç®€å•ï¼Œåªè¦é›†æˆ Lottie æ¡†æ¶ï¼Œç„¶ååœ¨ç¨‹åºä¸­é€šè¿‡ Lottie çš„æ¥å£æ§åˆ¶ After Effects ç”Ÿæˆçš„åŠ¨ç”» JSON å°±è¡Œäº†ã€‚</p><p>é¦–å…ˆï¼Œä½ å¯ä»¥é€šè¿‡ CocoaPods é›†æˆ Lottie æ¡†æ¶åˆ°ä½ å·¥ç¨‹ä¸­ã€‚Lottie iOS æ¡†æ¶çš„ GitHub åœ°å€æ˜¯<a href="https://github.com/airbnb/lottie-ios/">https://github.com/airbnb/lottie-ios/</a>ï¼Œå®˜æ–¹ä¹Ÿæä¾›äº†<a href="https://github.com/airbnb/lottie-ios/tree/master/Example">å¯ä¾›å­¦ä¹ çš„ç¤ºä¾‹</a>ã€‚</p><p>ç„¶åï¼Œå¿«é€Ÿè¯»å–ä¸€ä¸ªç”±Bodymovin ç”Ÿæˆçš„JSONæ–‡ä»¶è¿›è¡Œæ’­æ”¾ã€‚å…·ä½“ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>LOTAnimationView *animation = [LOTAnimationView animationNamed:@&quot;Lottie&quot;];
[self.view addSubview:animation];
[animation playWithCompletion:^(BOOL animationFinished) {
  // åŠ¨ç”»å®Œæˆåéœ€è¦å¤„ç†çš„äº‹æƒ…
}];
</code></pre><p>åˆ©ç”¨ Lottie çš„åŠ¨ç”»è¿›åº¦æ§åˆ¶èƒ½åŠ›ï¼Œè¿˜å¯ä»¥å®Œæˆæ‰‹åŠ¿ä¸åŠ¨æ•ˆåŒæ­¥çš„é—®é¢˜ã€‚åŠ¨ç”»è¿›åº¦æ§åˆ¶æ˜¯ LOTAnimationView çš„ animationProgress å±æ€§ï¼Œè®¾ç½®å±æ€§çš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><pre><code>CGPoint translation = [gesture getTranslationInView:self.view];
CGFloat progress = translation.y / self.view.bounds.size.height;
animationView.animationProgress = progress;
</code></pre><p>Lottie è¿˜å¸¦æœ‰ä¸€ä¸ª UIViewController animation-controllerï¼Œå¯ä»¥è‡ªå®šä¹‰é¡µé¢åˆ‡æ¢çš„è¿‡åœºåŠ¨ç”»ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><pre><code>#pragma mark -- å®šåˆ¶è½¬åœºåŠ¨ç”»

// ä»£ç†è¿”å›æ¨å‡ºæ§åˆ¶å™¨çš„åŠ¨ç”»
- (id&lt;UIViewControllerAnimatedTransitioning&gt;)animationControllerForPresentedController:(UIViewController *)presented presentingController:(UIViewController *)presenting sourceController:(UIViewController *)source {
  LOTAnimationTransitionController *animationController = [[LOTAnimationTransitionController alloc] initWithAnimationNamed:@&quot;vcTransition1&quot; fromLayerNamed:@&quot;outLayer&quot; toLayerNamed:@&quot;inLayer&quot; applyAnimationTransform:NO];
  return animationController;
}

// ä»£ç†è¿”å›é€€å‡ºæ§åˆ¶å™¨çš„åŠ¨ç”»
- (id&lt;UIViewControllerAnimatedTransitioning&gt;)animationControllerForDismissedController:(UIViewController *)dismissed {
  LOTAnimationTransitionController *animationController = [[LOTAnimationTransitionController alloc] initWithAnimationNamed:@&quot;vcTransition2&quot; fromLayerNamed:@&quot;outLayer&quot; toLayerNamed:@&quot;inLayer&quot; applyAnimationTransform:NO];
  return animationController;
}
</code></pre><p>Lottie åœ¨è¿è¡ŒæœŸé—´æä¾›æ¥å£å’Œåè®®æ¥æ›´æ”¹åŠ¨ç”»ï¼Œæœ‰åŠ¨ç”»æ•°æ®æœç´¢æ¥å£ LOTKeyPathï¼Œä»¥åŠè®¾ç½®åŠ¨ç”»æ•°æ®çš„åè®® LOTValueDelegateã€‚è¯¦ç»†çš„è¯´æ˜å’Œä½¿ç”¨ç¤ºä¾‹ä»£ç ï¼Œä½ å¯ä»¥å‚çœ‹<a href="http://airbnb.io/lottie/#/ios">å®˜æ–¹ iOS æ•™ç¨‹</a>ã€‚</p><h2>å¤šå¹³å°æ”¯æŒ</h2><p>Lottie æ”¯æŒå¤šå¹³å°ï¼Œé™¤äº† æ”¯æŒ<a href="https://github.com/airbnb/lottie-ios">iOS</a>ï¼Œè¿˜æ”¯æŒ <a href="https://github.com/airbnb/lottie-android">Android</a> ã€<a href="https://github.com/react-native-community/lottie-react-native">React Native</a>å’Œ<a href="https://github.com/simolus3/fluttie">Flutter</a>ã€‚é™¤äº†å®˜æ–¹ç»´æŠ¤çš„è¿™äº›å¹³å°å¤–ï¼ŒLottieè¿˜æ”¯æŒ<a href="https://github.com/windows-toolkit/Lottie-Windows">Windows</a>ã€<a href="https://blog.qt.io/blog/2019/03/08/announcing-qtlottie/">Qt</a>ã€<a href="https://skia.org/user/modules/skottie">Skia</a> ã€‚é™ˆå¿è¿˜å®ç°äº† <a href="https://github.com/chenqingspring/react-lottie">React</a>ã€<a href="https://github.com/chenqingspring/vue-lottie">Vue</a>å’Œ<a href="https://github.com/chenqingspring/ng-lottie">Angular</a>å¯¹ Lottieçš„æ”¯æŒï¼Œå¹¶å·²å°†ä»£ç æ”¾åˆ°äº†GitHubä¸Šã€‚</p><p>æœ‰äº†è¿™ä¹ˆå¤šå¹³å°çš„æ”¯æŒï¼Œå¯¹äºåŠ¨ç”»è®¾è®¡å¸ˆæ¥è¯´ï¼Œå¯ä»¥å®‰å¿ƒåšåŠ¨ç”»ï¼Œåªè¦ç®€å•åœ°è½¬æ¢å°±å¯ä»¥å®Œç¾å±•ç°åŠ¨ç”»æ•ˆæœï¼Œå†ä¹Ÿä¸ç”¨æ‹…å¿ƒåˆ°å¼€å‘è€…é‚£é‡ŒåŠ¨ç”»æ•ˆæœè¢«å¤§æ‰“æŠ˜æ‰£äº†ã€‚è€Œå¯¹äºå¼€å‘è€…æ¥è¯´ï¼Œå†ä¹Ÿä¸ç”¨å†™é‚£äº›éš¾ä»¥ç»´æŠ¤çš„å¤§é‡åŠ¨æ•ˆä»£ç äº†ï¼Œè€Œä¸”Appå®‰è£…åŒ…çš„ä½“ç§¯è¿˜å˜å°äº†ã€‚</p><p>é‚£ä¹ˆï¼Œ<strong>è¿™ä¹ˆç¥å¥‡çš„æ¡†æ¶ï¼Œåœ¨ iOS é‡Œåˆ°åº•æ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ</strong>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±çœ‹ä¸‹Lottieçš„å®ç°åŸç†å§ã€‚</p><p>é€šè¿‡åŸç†çš„å­¦ä¹ ï¼Œä½ ä¼šæŒæ¡é€šè¿‡ JSON æ¥æ§åˆ¶ä»£ç é€»è¾‘çš„èƒ½åŠ›ã€‚æ¯”å¦‚ï¼Œä½ å¯ä»¥æŠŠè¿è¥æ´»åŠ¨æµç¨‹çš„ä»£ç é€»è¾‘è®¾è®¡ä¸ºä¸€ç§è§„èŒƒï¼Œå†è®¾è®¡ä¸€ä¸ªæ‹–æ‹½å·¥å…·ç”¨æ¥åˆ›å»ºè¿è¥æ´»åŠ¨æµç¨‹ï¼Œæœ€åç”Ÿæˆä¸€ä»½è¡¨ç¤ºè¿è¥æ´»åŠ¨é€»è¾‘çš„ JSONï¼Œä¸‹å‘åˆ° App å†…æ¥å¼€å¯æ–°çš„è¿è¥æ´»åŠ¨ã€‚</p><h2>Lottie å®ç°åŸç†</h2><p>å®é™…ä¸Šï¼Œ<a href="https://github.com/airbnb/lottie-ios">Lottie iOS</a>åœ¨ iOS å†…åšçš„äº‹æƒ…å°±æ˜¯å°† After Effects ç¼–è¾‘çš„åŠ¨ç”»å†…å®¹ï¼Œé€šè¿‡JSONæ–‡ä»¶è¿™ä¸ªä¸­é—´åª’ä»‹ï¼Œä¸€ä¸€æ˜ å°„åˆ° iOS çš„ LayerModelã€Keyframeã€ShapeItemã€DashElementã€Markerã€Maskã€Transform è¿™äº›ç±»çš„å±æ€§ä¸­å¹¶ä¿å­˜äº†ä¸‹æ¥ï¼Œæ¥ä¸‹æ¥å†é€šè¿‡ CoreAnimation è¿›è¡Œæ¸²æŸ“ã€‚è¿™å°±å’Œä½ æ‰‹åŠ¨å†™åŠ¨ç”»ä»£ç çš„å®ç°æ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡è¿™ä¸ªè¿‡ç¨‹çš„ç²¾å‡†æè¿°ï¼Œå…¨éƒ¨ç”±åŠ¨ç”»è®¾è®¡å¸ˆé€šè¿‡ JSONæ–‡ä»¶è¾“å…¥è¿›æ¥äº†ã€‚</p><p>Lottie iOS ä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„ Codableåè®®æ¥è§£æJSONæ–‡ä»¶ï¼Œè¿™æ ·å°±å¯ä»¥äº«å—ç³»ç»Ÿå‡çº§å¸¦æ¥æ€§èƒ½æå‡çš„ä¾¿åˆ©ï¼Œæ¯”å¦‚ ShapeItem è¿™ä¸ªç±»è®¾è®¡å¦‚ä¸‹ï¼š</p><pre><code>// Shape Layer
class ShapeItem: Codable {
  
  /// shape çš„åå­—
  let name: String
  
  /// shape çš„ç±»å‹
  let type: ShapeType

  // å’Œ json ä¸­å­—ç¬¦æ˜ å°„
  private enum CodingKeys : String, CodingKey {
    case name = &quot;nm&quot;
    case type = &quot;ty&quot;
  }
  // åˆå§‹åŒ–
  required init(from decoder: Decoder) throws {
    let container = try decoder.container(keyedBy: ShapeItem.CodingKeys.self)
    self.name = try container.decodeIfPresent(String.self, forKey: .name) ?? &quot;Layer&quot;
    self.type = try container.decode(ShapeType.self, forKey: .type)
  }

}
</code></pre><p>é€šè¿‡ä¸Šé¢ä»£ç å¯ä»¥çœ‹å‡ºï¼ŒShapeItem æœ‰ä¸¤ä¸ªå±æ€§ï¼Œæ˜ å°„åˆ°JSONçš„å­—ç¬¦é”®å€¼æ˜¯ nm å’Œ tyï¼Œåˆ†åˆ«ä»£è¡¨ shape çš„åå­—å’Œç±»å‹ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬å†ä¸€èµ·çœ‹ä¸€æ®µ Bodymovin ç”Ÿæˆçš„JSONä»£ç ï¼š</p><pre><code>{&quot;ty&quot;:&quot;st&quot;,&quot;fillEnabled&quot;:true,&quot;c&quot;:{&quot;k&quot;:[{&quot;i&quot;:{&quot;x&quot;:[0.833],&quot;y&quot;:[0.833]},&quot;o&quot;:{&quot;x&quot;:[0.167],&quot;y&quot;:[0.167]},&quot;n&quot;:[&quot;0p833_0p833_0p167_0p167&quot;],&quot;t&quot;:22,&quot;s&quot;:[0,0.65,0.6,1],&quot;e&quot;:[0.76,0.76,0.76,1]},{&quot;t&quot;:36}]},&quot;o&quot;:{&quot;k&quot;:100},&quot;w&quot;:{&quot;k&quot;:3},&quot;lc&quot;:2,&quot;lj&quot;:2,&quot;nm&quot;:&quot;Stroke 1&quot;,&quot;mn&quot;:&quot;ADBE Vector Graphic - Stroke&quot;}

</code></pre><p>åœ¨è¿™æ®µJSONä»£ç ä¸­ï¼Œnm é”®å¯¹åº”çš„å€¼æ˜¯ Stroke 1ï¼Œty é”®å¯¹åº”çš„å€¼æ˜¯ stã€‚é‚£æˆ‘ä»¬å†æ¥çœ‹çœ‹ï¼Œ<strong>st æ˜¯ä»€ä¹ˆç±»å‹ã€‚</strong></p><p>æˆ‘ä»¬çŸ¥é“ï¼ŒShapeType æ˜¯ä¸ªæšä¸¾ç±»å‹ï¼Œå®ƒçš„å®šä¹‰å¦‚ä¸‹ï¼š</p><pre><code>enum ShapeType: String, Codable {
  case ellipse = &quot;el&quot;
  case fill = &quot;fl&quot;
  case gradientFill = &quot;gf&quot;
  case group = &quot;gr&quot;
  case gradientStroke = &quot;gs&quot;
  case merge = &quot;mm&quot;
  case rectangle = &quot;rc&quot;
  case repeater = &quot;rp&quot;
  case round = &quot;rd&quot;
  case shape = &quot;sh&quot;
  case star = &quot;sr&quot;
  case stroke = &quot;st&quot;
  case trim = &quot;tm&quot;
  case transform = &quot;tr&quot;
}
</code></pre><p>é€šè¿‡ä¸Šé¢çš„æšä¸¾å®šä¹‰ï¼Œå¯ä»¥çœ‹åˆ° st å¯¹åº”çš„æ˜¯ stroke ç±»å‹ã€‚</p><p>Lottie å°±æ˜¯é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå®šä¹‰äº†ä¸€ç³»åˆ—çš„ç±»ç»“æ„ï¼Œå¯ä»¥å°†JSONæ•°æ®å…¨éƒ¨æ˜ å°„è¿‡æ¥ã€‚æ‰€æœ‰æ˜ å°„ç”¨çš„ç±»éƒ½æ”¾åœ¨ Lottie çš„ Model ç›®å½•ä¸‹ã€‚ä½¿ç”¨ CoreAnimation æ¸²æŸ“çš„ç›¸å…³ä»£ç éƒ½åœ¨ NodeRenderSystem ç›®å½•ä¸‹ï¼Œæ¯”å¦‚å‰é¢ä¸¾ä¾‹çš„ Stokeã€‚</p><p>åœ¨æ¸²æŸ“å‰ä¼šç”Ÿæˆä¸€ä¸ªèŠ‚ç‚¹ï¼Œå®ç°åœ¨ StrokeNode.swift é‡Œï¼Œç„¶åå¯¹ StokeNode è¿™ä¸ªèŠ‚ç‚¹æ¸²æŸ“çš„é€»è¾‘åœ¨ StrokeRenderer.swift é‡Œã€‚æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</p><pre><code>// è®¾ç½® Context
func setupForStroke(_ inContext: CGContext) {
  inContext.setLineWidth(width) // è¡Œå®½
  inContext.setMiterLimit(miterLimit)
  inContext.setLineCap(lineCap.cgLineCap) // è¡Œé—´éš”
  inContext.setLineJoin(lineJoin.cgLineJoin)
	// è®¾ç½®çº¿æ¡æ ·å¼
  if let dashPhase = dashPhase, let lengths = dashLengths {
    inContext.setLineDash(phase: dashPhase, lengths: lengths)
  } else {
    inContext.setLineDash(phase: 0, lengths: [])
  }
}

// æ¸²æŸ“
func render(_ inContext: CGContext) {
  guard inContext.path != nil &amp;&amp; inContext.path!.isEmpty == false else {
    return
  }
  guard let color = color else { return }
  hasUpdate = false
  setupForStroke(inContext)
  inContext.setAlpha(opacity) // è®¾ç½®é€æ˜åº¦
  inContext.setStrokeColor(color) // è®¾ç½®é¢œè‰²
  inContext.strokePath()
}
</code></pre><p>è¿™æ®µä»£ç çœ‹èµ·æ¥æ˜¯ä¸æ˜¯å°±å¾ˆç†Ÿæ‚‰äº†ï¼Ÿ</p><p>å¦‚æœæ˜¯æ‰‹å†™åŠ¨ç”»ï¼Œè¿™äº›ä»£ç å°±éœ€è¦ä¸æ–­é‡å¤åœ°å†™ã€‚ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“å»å†™åŠ¨ç”»çš„è¯ï¼Œä¹Ÿæ— éå°±æ˜¯å¤šå°è£…äº†ä¸€å±‚ï¼Œè€Œå±æ€§çš„è®¾ç½®ã€åŠ¨ç”»æ—¶é—´çš„è®¾ç½®ç­‰ï¼Œè¿˜æ˜¯éœ€è¦æ‰‹åŠ¨æ·»åŠ å¾ˆå¤šä»£ç æ¥å®Œæˆã€‚</p><p>ä½†æ˜¯ï¼Œä½¿ç”¨ Lottie åï¼Œä½ å°±å®Œå…¨ä¸ç”¨å»ç®¡è¿™äº›ä»£ç äº†ï¼Œåªéœ€è¦åœ¨ After Effects é‚£è®¾ç½®å±æ€§ã€æ§åˆ¶åŠ¨ç”»æ—¶é—´å°±å¥½äº†ã€‚</p><h2>å°ç»“</h2><p>ä»Šå¤©è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘åˆ†äº«äº†ä¸€ä¸ªåˆ¶ä½œåŠ¨ç”»çš„åˆ©å™¨ Lottieï¼Œå¹¶å’Œä½ è¯´äº†å¦‚ä½•åœ¨ iOS ä¸­ä½¿ç”¨ï¼Œä»¥åŠå®ƒçš„å®ç°åŸç†ã€‚å¬åˆ°è¿™ï¼Œä½ ä¸€å®šæ„Ÿåˆ°å¥‡æ€ªï¼Œ iOS å¼€å‘ä¸­è¿˜æœ‰å¾ˆå¤šä¼˜ç§€çš„åŠ¨ç”»æ¡†æ¶ï¼Œæ¯”å¦‚ Popï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆæˆ‘åªè·Ÿä½ è¯´äº† Lottie å‘¢ï¼Ÿ</p><p>å› ä¸ºåœ¨æˆ‘çœ‹æ¥ï¼Œ Lottie è¿™æ ·çš„å·¥ä½œæµç¨‹æˆ–è®¸å°±æ˜¯æœªæ¥çš„è¶‹åŠ¿ï¼Œå°±åƒ iOS ç°åœ¨çš„å‘å±•è¶‹åŠ¿ä¸€æ ·ï¼Œè¶Šæ¥è¶Šå¤šçš„ä¸šåŠ¡é€»è¾‘ä¸å†éœ€è¦å…¨éƒ¨ä½¿ç”¨ Objective-C æˆ– Swift æ¥å®ç°äº†ï¼Œè€Œæ˜¯ä½¿ç”¨JavaScript è¯­è¨€æˆ–è€… DSL ç”šè‡³æ˜¯å·¥å…·æ¥æè¿°ä¸šåŠ¡ï¼Œç„¶åå°†æè¿°ä¸šåŠ¡çš„ä»£ç è½¬æ¢æˆä¸€ç§ä¸­é—´ä»£ç ï¼Œæ¯”å¦‚ JSONï¼Œä¸åŒå¹³å°å†å¯¹ç›¸åŒçš„ä¸­é—´ä»£ç è¿›è¡Œè§£æå¤„ç†ï¼Œä»¥æ‰§è¡Œä¸­é—´ä»£ç æè¿°çš„ä¸šåŠ¡é€»è¾‘ã€‚</p><p>è¿™æ ·åšä¸ä»…å¯ä»¥å‡è½» App åŒ…çš„å¤§å°ï¼Œå®ç°å¤šç«¯é€»è¾‘çš„ç»Ÿä¸€å¤„ç†ï¼Œè¿˜å¯ä»¥è®©å›¢é˜Ÿåˆ†å·¥æ›´åŠ æ˜ç¡®ï¼Œä¸€éƒ¨åˆ†äººä¸“é—¨å¼€å‘ä¸šåŠ¡ä»£ç ï¼Œå¦ä¸€éƒ¨åˆ†äººè´Ÿè´£ç«¯å†…ç¨³å®šæ€§ã€è´¨é‡æŠŠæ§ã€æ€§èƒ½æå‡å·¥ä½œçš„å»ºè®¾ã€‚</p><h2>è¯¾åä½œä¸š</h2><p>ç›¸ä¿¡ä½ çœ‹åˆ°è¿™ï¼Œä¸€å®šå·²ç»å¿ä¸ä½æƒ³å°è¯•èº«æ‰‹äº†ï¼Œé‚£ä¹ˆå°±è¯·ä½ åˆ° <a href="https://lottiefiles.com/">LottieFiles</a>ç½‘ç«™ä¸‹è½½ä¸€ä¸ªJSONæ–‡ä»¶ï¼Œåšä¸€ä¸ª Lottie Demo æ„Ÿå—ä¸‹å§ã€‚</p><p>æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œæ¬¢è¿ä½ åœ¨è¯„è®ºåŒºç»™æˆ‘ç•™è¨€åˆ†äº«ä½ çš„è§‚ç‚¹ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·é˜…è¯»ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/0d/3f/0da0c6fee64a3103893dd3f8b2b58e3f.jpg" alt=""></p><h2>ç²¾é€‰ç•™è¨€ï¼š</h2>
        <ul>
        
<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            èµ·èª“å››å¢ƒ  2019-05-02 22:28:15
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            ä¹Ÿé‡åˆ°è¿‡æ¥¼ä¸Šä¸€æ ·çš„è°ƒæ•´å¤§å°ã€é€‚é…çš„é—®é¢˜ï¼Œé—®ä¸€ä¸‹ï¼Œå…¶ä»–åŒå­¦æœ‰æ²¡æœ‰å¥½çš„æ–¹æ¡ˆï¼Ÿ 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            æ”¿  2019-05-02 11:06:44
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            Lottieç¡®å®æ˜¯ä¸ªå¥½ä¸œè¥¿ï¼Œä½†æ˜¯ä¹‹å‰ä½¿ç”¨çš„æ—¶å€™é‡åˆ°è¿‡å¤§å°ä¸åŒ¹é…çš„é—®é¢˜ï¼Œä¸çŸ¥é“æ˜¯è®¾è®¡å¸ˆçš„é”…è¿˜æ˜¯æˆ‘çš„é”…ã€‚éœ€è¦ä»£ç è¿™è¾¹å»é€‚é…è¿™ä¸ªä¸å¤ªå‡†ç¡®çš„å¤§å°ã€‚ 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            å¶æ»´å…³  2019-05-02 08:48:07
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            å¤ªå¥½äº†ï¼æ‰çŸ¥é“å±…ç„¶æœ‰è¿™ä¹ˆä¸€ä¸ªæ¡†æ¶ğŸ˜ƒï¼ŒåŠ¨ç”»æ•ˆæœä¸€ç›´æ˜¯æˆ‘çš„å¼±é¡¹ã€‚ 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            Moon  2019-05-02 08:42:33
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            666ï¼Œå—æ•™äº†ã€‚ 
        </div>
        
    </div>
</li>
            </ul>
</div>
</body>
</html>