<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>03-AutoLayoutæ˜¯æ€ä¹ˆè¿›è¡Œè‡ªåŠ¨å¸ƒå±€çš„ï¼Œæ€§èƒ½å¦‚ä½•ï¼Ÿ</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <style>
        html {
            color: #333;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            text-rendering: optimizelegibility;
            font-family: Helvetica Neue, PingFang SC, Verdana, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, sans-serif
        }

        html.borderbox *,
        html.borderbox :after,
        html.borderbox :before {
            box-sizing: border-box
        }

        article,
        aside,
        blockquote,
        body,
        button,
        code,
        dd,
        details,
        dl,
        dt,
        fieldset,
        figcaption,
        figure,
        footer,
        form,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        header,
        hr,
        input,
        legend,
        li,
        menu,
        nav,
        ol,
        p,
        pre,
        section,
        td,
        textarea,
        th,
        ul {
            margin: 0;
            padding: 0
        }

        article,
        aside,
        details,
        figcaption,
        figure,
        footer,
        header,
        menu,
        nav,
        section {
            display: block
        }

        audio,
        canvas,
        video {
            display: inline-block
        }

        body,
        button,
        input,
        select,
        textarea {
            font: 300 1em/1.8 PingFang SC, Lantinghei SC, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, Helvetica, sans-serif
        }

        button::-moz-focus-inner,
        input::-moz-focus-inner {
            padding: 0;
            border: 0
        }

        table {
            border-collapse: collapse;
            border-spacing: 0
        }

        fieldset,
        img {
            border: 0
        }

        blockquote {
            position: relative;
            color: #999;
            font-weight: 400;
            border-left: 1px solid #1abc9c;
            padding-left: 1em;
            margin: 1em 3em 1em 2em
        }

        @media only screen and (max-width: 640px) {
            blockquote {
                margin: 1em 0
            }
        }

        abbr,
        acronym {
            border-bottom: 1px dotted;
            font-variant: normal
        }

        abbr {
            cursor: help
        }

        del {
            text-decoration: line-through
        }

        address,
        caption,
        cite,
        code,
        dfn,
        em,
        th,
        var {
            font-style: normal;
            font-weight: 400
        }

        ol,
        ul {
            list-style: none
        }

        caption,
        th {
            text-align: left
        }

        q:after,
        q:before {
            content: ""
        }

        sub,
        sup {
            font-size: 75%;
            line-height: 0;
            position: relative
        }

        :root sub,
        :root sup {
            vertical-align: baseline
        }

        sup {
            top: -.5em
        }

        sub {
            bottom: -.25em
        }

        a {
            color: #1abc9c
        }

        a:hover {
            text-decoration: underline
        }

        .typo a {
            border-bottom: 1px solid #1abc9c
        }

        .typo a:hover {
            border-bottom-color: #555;
            color: #555
        }

        .typo a:hover,
        a,
        ins {
            text-decoration: none
        }

        .typo-u,
        u {
            text-decoration: underline
        }

        mark {
            background: #fffdd1;
            border-bottom: 1px solid #ffedce;
            padding: 2px;
            margin: 0 5px
        }

        code,
        pre,
        pre tt {
            font-family: Courier, Courier New, monospace
        }

        pre {
            background: hsla(0, 0%, 97%, .7);
            border: 1px solid #ddd;
            padding: 1em 1.5em;
            display: block;
            -webkit-overflow-scrolling: touch
        }

        hr {
            border: none;
            border-bottom: 1px solid #cfcfcf;
            margin-bottom: .8em;
            height: 10px
        }

        .typo-small,
        figcaption,
        small {
            font-size: .9em;
            color: #888
        }

        b,
        strong {
            font-weight: 700;
            color: #000
        }

        [draggable] {
            cursor: move
        }

        .clearfix:after,
        .clearfix:before {
            content: "";
            display: table
        }

        .clearfix:after {
            clear: both
        }

        .clearfix {
            zoom: 1
        }

        .textwrap,
        .textwrap td,
        .textwrap th {
            word-wrap: break-word;
            word-break: break-all
        }

        .textwrap-table {
            table-layout: fixed
        }

        .serif {
            font-family: Palatino, Optima, Georgia, serif
        }

        .typo-dl,
        .typo-form,
        .typo-hr,
        .typo-ol,
        .typo-p,
        .typo-pre,
        .typo-table,
        .typo-ul,
        .typo dl,
        .typo form,
        .typo hr,
        .typo ol,
        .typo p,
        .typo pre,
        .typo table,
        .typo ul,
        blockquote {
            margin-bottom: 1rem
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: PingFang SC, Helvetica Neue, Verdana, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, sans-serif;
            color: #000;
            line-height: 1.35
        }

        .typo-h1,
        .typo-h2,
        .typo-h3,
        .typo-h4,
        .typo-h5,
        .typo-h6,
        .typo h1,
        .typo h2,
        .typo h3,
        .typo h4,
        .typo h5,
        .typo h6 {
            margin-top: 1.2em;
            margin-bottom: .6em;
            line-height: 1.35
        }

        .typo-h1,
        .typo h1 {
            font-size: 2em
        }

        .typo-h2,
        .typo h2 {
            font-size: 1.8em
        }

        .typo-h3,
        .typo h3 {
            font-size: 1.6em
        }

        .typo-h4,
        .typo h4 {
            font-size: 1.4em
        }

        .typo-h5,
        .typo-h6,
        .typo h5,
        .typo h6 {
            font-size: 1.2em
        }

        .typo-ul,
        .typo ul {
            margin-left: 1.3em;
            list-style: disc
        }

        .typo-ol,
        .typo ol {
            list-style: decimal;
            margin-left: 1.9em
        }

        .typo-ol ol,
        .typo-ol ul,
        .typo-ul ol,
        .typo-ul ul,
        .typo li ol,
        .typo li ul {
            margin-bottom: .8em;
            margin-left: 2em
        }

        .typo-ol ul,
        .typo-ul ul,
        .typo li ul {
            list-style: circle
        }

        .typo-table td,
        .typo-table th,
        .typo table caption,
        .typo table td,
        .typo table th {
            border: 1px solid #ddd;
            padding: .5em 1em;
            color: #666
        }

        .typo-table th,
        .typo table th {
            background: #fbfbfb
        }

        .typo-table thead th,
        .typo table thead th {
            background: hsla(0, 0%, 95%, .7)
        }

        .typo table caption {
            border-bottom: none
        }

        .typo-input,
        .typo-textarea {
            -webkit-appearance: none;
            border-radius: 0
        }

        .typo-em,
        .typo em,
        caption,
        legend {
            color: #000;
            font-weight: inherit
        }

        .typo-em {
            position: relative
        }

        .typo-em:after {
            position: absolute;
            top: .65em;
            left: 0;
            width: 100%;
            overflow: hidden;
            white-space: nowrap;
            content: "\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB"
        }

        .typo img {
            max-width: 100%
        }

        .common-content {
            font-weight: 400;
            color: #353535;
            line-height: 1.75rem;
            white-space: normal;
            word-break: normal;
            font-size: 1rem
        }

        .common-content img {
            display: block;
            max-width: 100%;
            background-color: #eee
        }

        .common-content audio,
        .common-content video {
            width: 100%;
            background-color: #eee
        }

        .common-content center,
        .common-content font {
            margin-top: 1rem;
            display: inline-block
        }

        .common-content center {
            width: 100%
        }

        .common-content pre {
            margin-top: 1rem;
            padding-left: 0;
            padding-right: 0;
            position: relative;
            overflow: hidden
        }

        .common-content pre code {
            font-size: .8rem;
            font-family: Consolas, Liberation Mono, Menlo, monospace, Courier;
            display: block;
            width: 100%;
            box-sizing: border-box;
            padding-left: 1rem;
            padding-right: 1rem;
            overflow-x: auto
        }

        .common-content hr {
            border: none;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-top: 1px solid #f5f5f5;
            height: 1px;
            background: none
        }

        .common-content b,
        .common-content h1,
        .common-content h2,
        .common-content h3,
        .common-content h4,
        .common-content h5,
        .common-content strong {
            font-weight: 700
        }

        .common-content h1,
        .common-content h2 {
            font-size: 1.125rem;
            margin-bottom: .45rem
        }

        .common-content h3,
        .common-content h4,
        .common-content h5 {
            font-size: 1rem;
            margin-bottom: .45rem
        }

        .common-content p {
            font-weight: 400;
            color: #353535;
            margin-top: .15rem
        }

        .common-content .orange {
            color: #ff5a05
        }

        .common-content .reference {
            font-size: 1rem;
            color: #888
        }

        .custom-rich-content h1 {
            margin-top: 0;
            font-weight: 400;
            font-size: 15.25px;
            border-bottom: 1px solid #eee;
            line-height: 2.8
        }

        .custom-rich-content li,
        .custom-rich-content p {
            font-size: 14px;
            color: #888;
            line-height: 1.6
        }

        table.hljs-ln {
            margin-bottom: 0;
            border-spacing: 0;
            border-collapse: collapse
        }

        table.hljs-ln,
        table.hljs-ln tbody,
        table.hljs-ln td,
        table.hljs-ln tr {
            box-sizing: border-box
        }

        table.hljs-ln td {
            padding: 0;
            border: 0
        }

        table.hljs-ln td.hljs-ln-numbers {
            min-width: 15px;
            color: rgba(27, 31, 35, .3);
            text-align: right;
            white-space: nowrap;
            cursor: pointer;
            user-select: none
        }

        table.hljs-ln td.hljs-ln-code,
        table.hljs-ln td.hljs-ln-numbers {
            font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
            font-size: 12px;
            line-height: 20px;
            vertical-align: top
        }

        table.hljs-ln td.hljs-ln-code {
            position: relative;
            padding-right: 10px;
            padding-left: 10px;
            overflow: visible;
            color: #24292e;
            word-wrap: normal;
            white-space: pre
        }

        video::-webkit-media-controls {
            overflow: hidden !important
        }

        video::-webkit-media-controls-enclosure {
            width: calc(100% + 32px);
            margin-left: auto
        }

        ._29HP61GA_0 {
            max-width:800px;
            margin:0 auto;
            margin-bottom: 20px;
            font-weight: 400;
            color: #353535;
            line-height: 1.76;
            white-space: normal;
            word-break: normal;
            font-size: 17px;
            -webkit-transition: background-color .3s ease;
            transition: background-color .3s ease
        }

        ._29HP61GA_0 .MathJax_Display {
            overflow: auto
        }

        ._29HP61GA_0 .poster {
            position: fixed;
            left: -10000px;
            top: -10000px;
            overflow: hidden;
            padding: 1rem;
            background: #ececec
        }

        ._29HP61GA_0 .richcontent-pre-copy {
            font-size: 13px;
            color: #888;
            position: absolute;
            right: 1em;
            top: .5em;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none
        }

        ._29HP61GA_0 .richcontent-pre-copy .iconfont {
            font-size: 12px;
            margin-right: .2em
        }

        ._29HP61GA_0 a {
            color: #fa8919;
            border-bottom: 1px solid #fa8919
        }

        ._29HP61GA_0 img {
            display: block;
            max-width: 100%;
            position: relative;
            left: 50%;
            -webkit-transform: translateX(-50%);
            transform: translateX(-50%);
            background-color: #eee;
            vertical-align: top;
            border-radius: 0
        }

        ._29HP61GA_0 audio,
        ._29HP61GA_0 video {
            width: 100%;
            background-color: #eee
        }

        ._29HP61GA_0 pre {
            margin-top: 16px;
            padding: 34px 0 0;
            margin-bottom: 30px;
            position: relative;
            border-radius: 6px;
            background: rgba(246, 247, 251, .749);
            border: 0
        }

        ._29HP61GA_0 pre code {
            font-size: 12px;
            font-family: Consolas, Liberation Mono, Menlo, monospace, Courier;
            display: block;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            margin-left: 16px;
            margin-right: 16px;
            overflow-x: scroll
        }

        ._29HP61GA_0 pre code:after {
            content: "";
            height: 30px;
            width: 100%;
            display: block
        }

        ._29HP61GA_0 hr {
            border: none;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-top: 1px solid #f5f5f5;
            height: 1px;
            background: none
        }

        ._29HP61GA_0 h1,
        ._29HP61GA_0 h2,
        ._29HP61GA_0 h3,
        ._29HP61GA_0 h4,
        ._29HP61GA_0 h5 {
            margin-bottom: 20px;
            margin-top: 0;
            font-weight: 700
        }

        ._29HP61GA_0 b,
        ._29HP61GA_0 strong {
            font-weight: 700
        }

        ._29HP61GA_0 h1 {
            font-size: 21px
        }

        ._29HP61GA_0 h2 {
            font-size: 20px
        }

        ._29HP61GA_0 h3 {
            font-size: 19px
        }

        ._29HP61GA_0 h4 {
            font-size: 18px
        }

        ._29HP61GA_0 h5 {
            font-size: 17px
        }

        ._29HP61GA_0 center,
        ._29HP61GA_0 p {
            font-weight: 400;
            color: #353535;
            margin-top: 0;
            margin-bottom: 30px;
            word-break: break-word
        }

        ._29HP61GA_0 center {
            text-align: center
        }

        ._29HP61GA_0 blockquote {
            margin-top: 0;
            margin-bottom: 34px;
            border-left: 3px solid #e8e8e8;
            padding-left: 17px;
            color: #353535
        }

        ._29HP61GA_0 blockquote p {
            margin-top: 0;
            margin-bottom: 0
        }

        ._29HP61GA_0 ol,
        ._29HP61GA_0 ul {
            margin-bottom: 30px
        }

        ._29HP61GA_0 ol p,
        ._29HP61GA_0 ul p {
            margin-top: 0;
            margin-bottom: 0
        }

        ._29HP61GA_0 ol {
            list-style: decimal;
            margin-left: 20px
        }

        ._29HP61GA_0 ul li {
            padding-left: 17px;
            position: relative;
            margin-bottom: 10px
        }

        ._29HP61GA_0 ul li:after {
            content: "";
            height: 6px;
            width: 6px;
            border-radius: 50%;
            background: #353535;
            position: absolute;
            top: 10px;
            left: 0
        }

        ._29HP61GA_0 .orange {
            color: #fa8919
        }

        ._29HP61GA_0 .reference {
            color: #888
        }

        ._29HP61GA_0 .m-right {
            text-align: right
        }

        ._29HP61GA_0 .m-center {
            text-align: center;
            display: block
        }

        ._29HP61GA_0 .m-gray {
            color: #888
        }

        ._29HP61GA_0 .m-small {
            font-size: 15px
        }

        ._29HP61GA_0 table.hljs-ln {
            margin-bottom: 0;
            border-spacing: 0;
            border-collapse: collapse
        }

        ._29HP61GA_0 table.hljs-ln,
        ._29HP61GA_0 table.hljs-ln tbody,
        ._29HP61GA_0 table.hljs-ln td,
        ._29HP61GA_0 table.hljs-ln tr {
            -webkit-box-sizing: border-box;
            box-sizing: border-box
        }

        ._29HP61GA_0 table.hljs-ln td {
            padding: 0;
            border: 0
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers {
            min-width: 15px;
            font-size: 12px;
            color: rgba(27, 31, 35, .3);
            text-align: right;
            white-space: nowrap;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-code,
        ._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers {
            font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
            line-height: 20px;
            vertical-align: top
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-code {
            position: relative;
            padding-right: 10px;
            padding-left: 10px;
            overflow: visible;
            font-size: 13px;
            color: #666;
            word-wrap: normal;
            white-space: pre
        }

    </style>
</head>
<body>
<div class="_29HP61GA_0">
<h1>03-AutoLayoutæ˜¯æ€ä¹ˆè¿›è¡Œè‡ªåŠ¨å¸ƒå±€çš„ï¼Œæ€§èƒ½å¦‚ä½•ï¼Ÿ</h1>
<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æˆ´é“­ã€‚ä»Šå¤©æˆ‘æ¥è·Ÿä½ èŠä¸‹ Auto Layout ã€‚</p><p>Auto Layout ï¼Œæ˜¯è‹¹æœå…¬å¸æä¾›çš„ä¸€ä¸ªåŸºäºçº¦æŸå¸ƒå±€ï¼ŒåŠ¨æ€è®¡ç®—è§†å›¾å¤§å°å’Œä½ç½®çš„åº“ï¼Œå¹¶ä¸”å·²ç»é›†æˆåˆ°äº† Xcode å¼€å‘ç¯å¢ƒé‡Œã€‚</p><p>åœ¨å¼•å…¥ Auto Layout è¿™ç§è‡ªåŠ¨å¸ƒå±€æ–¹å¼ä¹‹å‰ï¼ŒiOS å¼€å‘éƒ½æ˜¯é‡‡ç”¨æ‰‹åŠ¨å¸ƒå±€çš„æ–¹å¼ã€‚è€Œæ‰‹åŠ¨å¸ƒå±€çš„æ–¹å¼ï¼ŒåŸå§‹è½åã€ç•Œé¢å¼€å‘ç»´æŠ¤æ•ˆç‡ä½ï¼Œå¯¹ä»äº‹è¿‡å‰ç«¯å¼€å‘çš„äººæ¥è¯´æ›´æ˜¯éš¾ä»¥é€‚åº”ã€‚æ‰€ä»¥ï¼Œè‹¹æœéœ€è¦æä¾›æ›´å¥½çš„ç•Œé¢å¼•æ“æ¥æå‡å¼€å‘è€…çš„ä½“éªŒï¼ŒAuto Layout éšä¹‹å‡ºç°ã€‚</p><p>è‹¹æœå…¬å¸æ—©åœ¨ iOS 6 ç³»ç»Ÿæ—¶å°±å¼•å…¥äº† Auto Layoutï¼Œä½†æ˜¯ç›´åˆ°ç°åœ¨è¿˜æœ‰å¾ˆå¤šå¼€å‘è€…è¿Ÿè¿Ÿä¸æ„¿ä½¿ç”¨ å®ƒï¼Œå…¶åŸå› å°±åœ¨äºå¯¹å…¶æ€§èƒ½çš„æ‹…å¿§ã€‚å³ä½¿åæ¥ï¼Œè‹¹æœå…¬å¸æ¨å‡ºäº†åœ¨ Auto Layout åŸºç¡€ä¸Šæ¨¡ä»¿å‰ç«¯ Flexbox å¸ƒå±€æ€è·¯çš„ UIStackViewå·¥å…·ï¼Œæé«˜äº†å¼€å‘ä½“éªŒå’Œæ•ˆç‡ï¼Œä¹Ÿæ— æ³•è§£é™¤å¼€å‘è€…ä»¬å¯¹å…¶æ€§èƒ½çš„é¡¾è™‘ã€‚</p><p>é‚£ä¹ˆï¼ŒAuto Layout åˆ°åº•æ˜¯å¦‚ä½•å®ç°è‡ªåŠ¨å¸ƒå±€çš„ï¼Œè¿™ç§å¸ƒå±€ç®—æ³•çœŸçš„ä¼šå½±å“æ€§èƒ½å—ï¼Ÿ</p><p>å¦å¤–ï¼Œè‹¹æœå…¬å¸åœ¨ WWDC 2018 çš„â€œ <a href="https://developer.apple.com/videos/play/wwdc2018/220">WWDC 220 Session High Performance Auto Layout</a>â€Sessionä¸­ä»‹ç»è¯´ï¼š iOS 12 å°†å¤§å¹…æé«˜ Auto Layout æ€§èƒ½ï¼Œä½¿æ»‘åŠ¨è¾¾åˆ°æ»¡å¸§ï¼Œè¿™åˆæ˜¯å¦‚ä½•åšåˆ°çš„å‘¢ï¼Ÿä½ æ˜¯åº”è¯¥é€‰æ‹©ç»§ç»­æ‰‹åŠ¨å¸ƒå±€è¿˜æ˜¯é€‰æ‹©Auto Layoutå‘¢ï¼Ÿ</p><!-- [[[read_end]]] --><p>å°±ç€è¿™ä¸‰ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°±æ¥è¯¦ç»†èŠèŠ Auto Layout å§ã€‚</p><h1>Auto Layoutçš„æ¥å†</h1><p><img src="https://static001.geekbang.org/resource/image/fa/a4/fa8980b42e736a3bbbb3fd4cfa5d48a4.png" alt=""></p><center><span class="reference">å›¾1 Auto Layout æ¥å†</span></center><p>ä¸Šå›¾è®°å½•äº†ä¸¤ä¸ªæ—¶é—´ç‚¹ï¼š</p><ul>
<li>ä¸€ä¸ªæ˜¯1997å¹´ï¼ŒAuto Layout ç”¨åˆ°çš„å¸ƒå±€ç®—æ³• Cassowary è¢«å‘æ˜äº†å‡ºæ¥ï¼›</li>
<li>å¦ä¸€ä¸ªæ˜¯2011å¹´ï¼Œè‹¹æœå…¬å¸å°† Cassowary ç®—æ³•è¿ç”¨åˆ°äº†è‡ªå®¶çš„å¸ƒå±€å¼•æ“ Auto Layout ä¸­ã€‚</li>
</ul><p>Cassowary èƒ½å¤Ÿæœ‰æ•ˆè§£æçº¿æ€§ç­‰å¼ç³»ç»Ÿå’Œçº¿æ€§ä¸ç­‰å¼ç³»ç»Ÿï¼Œç”¨æ¥è¡¨ç¤ºç”¨æˆ·ç•Œé¢ä¸­é‚£äº›ç›¸ç­‰å…³ç³»å’Œä¸ç­‰å…³ç³»ã€‚åŸºäºæ­¤ï¼ŒCassowary å¼€å‘äº†ä¸€ç§è§„åˆ™ç³»ç»Ÿï¼Œé€šè¿‡çº¦æŸæ¥æè¿°è§†å›¾é—´çš„å…³ç³»ã€‚çº¦æŸå°±æ˜¯è§„åˆ™ï¼Œè¿™ä¸ªè§„åˆ™èƒ½å¤Ÿè¡¨ç¤ºå‡ºä¸€ä¸ªè§†å›¾ç›¸å¯¹äºå¦ä¸€ä¸ªè§†å›¾çš„ä½ç½®ã€‚</p><p>ç”±äº Cassowary ç®—æ³•è®©è§†å›¾ä½ç½®å¯ä»¥æŒ‰ç…§ä¸€ç§ç®€å•çš„å¸ƒå±€æ€è·¯æ¥å†™ï¼Œè¿™äº›ç®€å•çš„ç›¸å¯¹ä½ç½®æè¿°å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°è®¡ç®—å‡ºè§†å›¾å…·ä½“çš„ä½ç½®ã€‚è§†å›¾ä½ç½®çš„å†™æ³•ç®€åŒ–äº†ï¼Œç•Œé¢ç›¸å…³ä»£ç ä¹Ÿå°±æ›´æ˜“äºç»´æŠ¤ã€‚è‹¹æœå…¬å¸ä¹Ÿæ˜¯çœ‹é‡äº†è¿™ä¸€ç‚¹ï¼Œå°†å…¶å¼•å…¥åˆ°äº†è‡ªå·±çš„ç³»ç»Ÿä¸­ã€‚</p><p>Cassowary ç®—æ³•ç”± Alan Borningã€Kim Marriottã€Peter Stuckey ç­‰äººåœ¨â€œ<a href="https://constraints.cs.washington.edu/solvers/uist97.html">Solving Linear Arithmetic Constraints for User Interface Applications</a>â€è®ºæ–‡ä¸­æå‡ºçš„ï¼Œä¸ºäº†èƒ½æ–¹ä¾¿å¼€å‘è€…æ›´å¥½åœ°ç†è§£ è¿™ä¸ªç®—æ³•ï¼Œå¹¶å°†å…¶è¿ç”¨åˆ°æ›´å¤šçš„å¼€å‘è¯­è¨€ä¸­ï¼Œä½œè€…è¿˜å°†ä»£ç å‘å¸ƒåˆ°äº†ä»–ä»¬æ­å»ºçš„ <a href="https://constraints.cs.washington.edu/cassowary/">Cassowary ç½‘ç«™</a>ä¸Šã€‚</p><p>ç”±äº Cassowary ç®—æ³•æœ¬èº«çš„å…ˆè¿›æ€§ï¼Œæ›´å¤šçš„å¼€å‘è€…å°† Cassowary è¿ç”¨åˆ°äº†å„ä¸ªå¼€å‘è¯­è¨€ä¸­ï¼Œæ¯”å¦‚ JavaScriptã€.NETã€Javaã€Smalltalkã€C++éƒ½æœ‰å¯¹åº”çš„åº“ã€‚</p><h1>Auto Layout çš„ç”Ÿå‘½å‘¨æœŸ</h1><p>Auto Layout ä¸åªæœ‰å¸ƒå±€ç®—æ³• Cassowaryï¼Œè¿˜åŒ…å«äº†å¸ƒå±€åœ¨è¿è¡Œæ—¶çš„ç”Ÿå‘½å‘¨æœŸç­‰ä¸€æ•´å¥—å¸ƒå±€å¼•æ“ç³»ç»Ÿï¼Œç”¨æ¥ç»Ÿä¸€ç®¡ç†å¸ƒå±€çš„åˆ›å»ºã€æ›´æ–°å’Œé”€æ¯ã€‚äº†è§£ Auto Layout çš„ç”Ÿå‘½å‘¨æœŸï¼Œæ˜¯ç†è§£å®ƒçš„æ€§èƒ½ç›¸å…³è¯é¢˜çš„åŸºç¡€ã€‚è¿™æ ·ï¼Œåœ¨é‡åˆ°é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯æ€§èƒ½é—®é¢˜æ—¶ï¼Œæˆ‘ä»¬æ‰èƒ½ä»æ ¹å„¿ä¸Šæ‰¾åˆ°åŸå› ï¼Œä»è€Œé¿å…æˆ–æ”¹è¿›ç±»ä¼¼çš„é—®é¢˜ã€‚</p><p>è¿™ä¸€æ•´å¥—å¸ƒå±€å¼•æ“ç³»ç»Ÿå«ä½œ Layout Engine ï¼Œæ˜¯ Auto Layout çš„æ ¸å¿ƒï¼Œä¸»å¯¼ç€æ•´ä¸ªç•Œé¢å¸ƒå±€ã€‚</p><p>æ¯ä¸ªè§†å›¾åœ¨å¾—åˆ°è‡ªå·±çš„å¸ƒå±€ä¹‹å‰ï¼ŒLayout Engine ä¼šå°†è§†å›¾ã€çº¦æŸã€ä¼˜å…ˆçº§ã€å›ºå®šå¤§å°é€šè¿‡è®¡ç®—è½¬æ¢æˆæœ€ç»ˆçš„å¤§å°å’Œä½ç½®ã€‚åœ¨ Layout Engine é‡Œï¼Œæ¯å½“çº¦æŸå‘ç”Ÿå˜åŒ–ï¼Œå°±ä¼šè§¦å‘ Deffered Layout Passï¼Œå®Œæˆåè¿›å…¥ç›‘å¬çº¦æŸå˜åŒ–çš„çŠ¶æ€ã€‚å½“å†æ¬¡ç›‘å¬åˆ°çº¦æŸå˜åŒ–ï¼Œå³è¿›å…¥ä¸‹ä¸€è½®å¾ªç¯ä¸­ã€‚æ•´ä¸ªè¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://static001.geekbang.org/resource/image/7c/1c/7ca0e14ef02231c9aba7cb49c7e9271c.png" alt=""></p><center><span class="reference">å›¾2 Layout Engineç•Œé¢å¸ƒå±€è¿‡ç¨‹</span></center><p>å›¾ä¸­ï¼Œ Constraints Change è¡¨ç¤ºçš„å°±æ˜¯çº¦æŸå˜åŒ–ï¼Œæ·»åŠ ã€åˆ é™¤è§†å›¾æ—¶ä¼šè§¦å‘çº¦æŸå˜åŒ–ã€‚Activating æˆ– Deactivatingï¼Œè®¾ç½® Constant æˆ– Priority æ—¶ä¹Ÿä¼šè§¦å‘çº¦æŸå˜åŒ–ã€‚Layout Engine åœ¨ç¢°åˆ°çº¦æŸå˜åŒ–åä¼šé‡æ–°è®¡ç®—å¸ƒå±€ï¼Œè·å–åˆ°å¸ƒå±€åè°ƒç”¨ superview.setNeedLayout()ï¼Œç„¶åè¿›å…¥ Deferred Layout Passã€‚</p><p>Deferred Layout Passçš„ä¸»è¦ä½œç”¨æ˜¯åšå®¹é”™å¤„ç†ã€‚å¦‚æœæœ‰äº›è§†å›¾åœ¨æ›´æ–°çº¦æŸæ—¶æ²¡æœ‰ç¡®å®šæˆ–ç¼ºå¤±å¸ƒå±€å£°æ˜çš„è¯ï¼Œä¼šå…ˆåœ¨è¿™é‡Œåšå®¹é”™å¤„ç†ã€‚</p><p>æ¥ä¸‹æ¥ï¼ŒLayout Engineä¼šä»ä¸Šåˆ°ä¸‹è°ƒç”¨ layoutSubviews() ï¼Œé€šè¿‡ Cassowary ç®—æ³•è®¡ç®—å„ä¸ªå­è§†å›¾çš„ä½ç½®ï¼Œç®—å‡ºæ¥åå°†å­è§†å›¾çš„ frame ä» Layout Engine é‡Œæ‹·è´å‡ºæ¥ã€‚</p><p>åœ¨è¿™ä¹‹åçš„å¤„ç†ï¼Œå°±å’Œæ‰‹å†™å¸ƒå±€çš„ç»˜åˆ¶ã€æ¸²æŸ“è¿‡ç¨‹ä¸€æ ·äº†ã€‚æ‰€ä»¥ï¼Œä½¿ç”¨ Auto Layout å’Œæ‰‹å†™å¸ƒå±€çš„åŒºåˆ«ï¼Œå°±æ˜¯å¤šäº†å¸ƒå±€ä¸Šçš„è¿™ä¸ªè®¡ç®—è¿‡ç¨‹ã€‚é‚£ä¹ˆï¼Œå¤šçš„è¿™ä¸ª Cassowary å¸ƒå±€ï¼Œå°±æ˜¯åœ¨iOS 12 ä¹‹å‰å½±å“ Auto Layout æ€§èƒ½çš„åŸå› å—ï¼Ÿ</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘å°±è·Ÿä½ åˆ†æä¸‹ Auto Layout çš„æ€§èƒ½é—®é¢˜ã€‚</p><h1>Auto Layout æ€§èƒ½é—®é¢˜</h1><p>Auto Layoutçš„æ€§èƒ½æ˜¯å¦æœ‰é—®é¢˜ï¼Œæˆ‘ä»¬å…ˆçœ‹çœ‹è‹¹æœå…¬å¸è‡ªå·±æ˜¯æ€ä¹ˆè¯´çš„å§ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/ef/16/ef9b42666a226226b8f5fee6d9621b16.png" alt=""></p><center><span class="reference">å›¾3 Auto Layout åœ¨ iOS 12 ä¸­ä¼˜åŒ–åçš„è¡¨ç°</span></center><p>ä¸Šå›¾æ˜¯ WWDC 2018 ä¸­ <a href="https://developer.apple.com/videos/play/wwdc2018/202/">202 Session</a> é‡Œè®²åˆ°çš„Auto Layout åœ¨ iOS 12 ä¸­ä¼˜åŒ–åçš„è¡¨ç°ã€‚å¯ä»¥çœ‹åˆ°ï¼Œä¼˜åŒ–åçš„æ€§èƒ½ï¼Œå·²ç»åŸºæœ¬å’Œæ‰‹å†™å¸ƒå±€ä¸€æ ·å¯ä»¥è¾¾åˆ°æ€§èƒ½éšç€è§†å›¾åµŒå¥—çš„æ•°é‡å‘ˆçº¿æ€§å¢é•¿äº†ã€‚è€Œåœ¨æ­¤ä¹‹å‰çš„Auto Layoutï¼Œè§†å›¾åµŒå¥—çš„æ•°é‡å¯¹æ€§èƒ½çš„å½±å“æ˜¯å‘ˆæŒ‡æ•°çº§å¢é•¿çš„ã€‚</p><p>æ‰€ä»¥ï¼Œä½ è¯´Auto Layoutå¯¹æ€§èƒ½å½±å“èƒ½å¤§ä¸å¤§å‘¢ã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªé”…åº”è¯¥ç”± Cassowary ç®—æ³•æ¥èƒŒå—ï¼Ÿ</p><p>åœ¨1997å¹´æ—¶ï¼ŒCassowary æ˜¯ä»¥é«˜æ•ˆçš„ç•Œé¢çº¿æ€§æ–¹ç¨‹æ±‚è§£ç®—æ³•è¢«æå‡ºæ¥çš„ã€‚å®ƒè§£å†³çš„æ˜¯ç•Œé¢çš„çº¿æ€§è§„åˆ’é—®é¢˜ï¼Œè€Œçº¿æ€§è§„åˆ’é—®é¢˜çš„è§£æ³•æ˜¯ <a href="https://en.wikipedia.org/wiki/Simplex_algorithm">Simplex ç®—æ³•</a>ã€‚å•ä» Simplex ç®—æ³•çš„å¤æ‚åº¦æ¥çœ‹ï¼Œå¤šæ•°æƒ…å†µä¸‹æ˜¯æ²¡æœ‰æŒ‡æ•°æ—¶é—´å¤æ‚åº¦çš„ã€‚è€ŒCassowary ç®—æ³•åˆæ˜¯åœ¨ Simplexç®—æ³•åŸºç¡€ä¸Šå¯¹ç•Œé¢å…³ç³»æ–¹ç¨‹è¿›è¡Œäº†é«˜æ•ˆçš„æ·»åŠ ã€ä¿®æ”¹æ›´æ–°æ“ä½œï¼Œä¸ä¼šå¸¦æ¥æ—¶é—´å¤æ‚åº¦å‘ˆæŒ‡æ•°çº§å¢é•¿çš„é—®é¢˜ã€‚</p><p>é‚£ä¹ˆï¼Œå¦‚æœ Cassowary ç®—æ³•æœ¬èº«æ²¡æœ‰é—®é¢˜çš„è¯ï¼Œé—®é¢˜å°±åªå¯èƒ½æ˜¯è‹¹æœå…¬å¸åœ¨ iOS 12 ä¹‹å‰åœ¨æŸäº›æƒ…å†µä¸‹æ²¡æœ‰ç”¨å¥½è¿™ä¸ªç®—æ³•ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†çœ‹ä¸€ä¸‹ WWDC 2018 ä¸­ 202 Session çš„ Auto Layout åœ¨å…„å¼Ÿè§†å›¾ç‹¬ç«‹å¼€å¸ƒå±€çš„æƒ…å†µã€‚</p><p><img src="https://static001.geekbang.org/resource/image/b2/89/b2e91f2bdcb60d4a7fa4b6dbdaebca89.png" alt=""></p><center><span class="reference">å›¾4 Auto Layout åœ¨å…„å¼Ÿè§†å›¾ç‹¬ç«‹å¼€å¸ƒå±€çš„æƒ…å†µ</span></center><p>å¯ä»¥çœ‹åˆ°ï¼Œå…„å¼Ÿè§†å›¾ä¹‹é—´æ²¡æœ‰å…³ç³»æ—¶ï¼Œæ˜¯ä¸ä¼šå‡ºç°æ€§èƒ½å‘ˆæŒ‡æ•°å¢åŠ é—®é¢˜çš„ã€‚è¿™å°±è¡¨ç¤º Cassowary ç®—æ³•åœ¨æ·»åŠ æ—¶æ˜¯é«˜æ•ˆçš„ã€‚ä½†å¦‚æœå…„å¼Ÿè§†å›¾é—´æœ‰å…³ç³»çš„è¯ï¼Œåœ¨è§†å›¾éå†æ—¶ä¼šä¸æ–­å¤„ç†å’Œå…„å¼Ÿè§†å›¾é—´çš„å…³ç³»ï¼Œè¿™æ—¶ä¼šæœ‰ä¿®æ”¹æ›´æ–°è®¡ç®—ã€‚</p><p>ç”±æ­¤å¯ä»¥çœ‹å‡ºï¼ŒAuto Layout å¹¶æ²¡æœ‰ç”¨ä¸Š Cassowary é«˜æ•ˆä¿®æ”¹æ›´æ–°çš„ç‰¹æ€§ã€‚</p><p>å®é™…æƒ…å†µæ˜¯ï¼ŒiOS 12 ä¹‹å‰ï¼Œå¾ˆå¤šçº¦æŸå˜åŒ–æ—¶éƒ½ä¼šé‡æ–°åˆ›å»ºä¸€ä¸ªè®¡ç®—å¼•æ“ NSISEnginer å°†çº¦æŸå…³ç³»é‡æ–°åŠ è¿›æ¥ï¼Œç„¶åé‡æ–°è®¡ç®—ã€‚ç»“æœå°±æ˜¯ï¼Œæ¶‰åŠåˆ°çš„çº¦æŸå…³ç³»å˜å¤šæ—¶ï¼Œæ–°çš„è®¡ç®—å¼•æ“éœ€è¦é‡æ–°è®¡ç®—ï¼Œæœ€ç»ˆå¯¼è‡´è®¡ç®—é‡å‘ˆæŒ‡æ•°çº§å¢åŠ ã€‚</p><p>æ›´è¯¦ç»†çš„è®²è§£ï¼Œä½ å¯ä»¥å‚è€ƒ WWDC 2018 ä¸­ 202 Sessionçš„å†…å®¹ï¼Œé‡Œé¢å®Œæ•´åœ°åˆ†æäº†ä»¥å‰çš„é—®é¢˜ï¼Œä»¥åŠ iOS12 çš„è§£æ³•ã€‚</p><p>æ€»ä½“æ¥è¯´ï¼Œ <strong>iOS12 çš„Auto Layoutæ›´å¤šåœ°åˆ©ç”¨äº† Cassowaryç®—æ³•çš„ç•Œé¢æ›´æ–°ç­–ç•¥ï¼Œä½¿å…¶çœŸæ­£å®Œæˆäº†é«˜æ•ˆçš„ç•Œé¢çº¿æ€§ç­–ç•¥è®¡ç®—ã€‚</strong></p><p>é‚£ä¹ˆï¼Œæ˜ç¡®äº† iOS 12 ä½¿å¾— Auto Layout å…·æœ‰äº†å’Œæ‰‹å†™å¸ƒå±€å‡ ä¹ç›¸åŒçš„é«˜æ€§èƒ½åï¼Œä½ æ˜¯ä¸æ˜¯å°±å¯ä»¥æ”¾å¿ƒåœ°ä½¿ç”¨ Auto Layout äº†å‘¢ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚</p><p>å¦‚æœä½ æ˜¯ä¸€åæ‰‹å†™å¸ƒå±€çš„ iOS å¼€å‘è€…ï¼Œè¿™æ˜¯ä½ æŠ•å…¥ Auto Layout å¸ƒå±€å¼€å‘çš„æœ€ä½³æ—¶æœºã€‚</p><p>ä½¿ç”¨ Auto Layout ä¸€å®šè¦æ³¨æ„å¤šä½¿ç”¨ Compression Resistance Priority å’Œ Hugging Priorityï¼Œåˆ©ç”¨ä¼˜å…ˆçº§çš„è®¾ç½®ï¼Œè®©å¸ƒå±€æ›´åŠ çµæ´»ï¼Œä»£ç æ›´å°‘ï¼Œæ›´æ˜“äºç»´æŠ¤ã€‚</p><p>æœ€åï¼Œä¸ºäº†æ›´å¥½åœ°ä½¿ç”¨Auto Layoutï¼Œæˆ‘å†æ¥å’Œä½ è¯´è¯´å¦‚ä½•æé«˜å®ƒçš„æ˜“ç”¨æ€§ã€‚</p><h1>Auto Layout çš„æ˜“ç”¨æ€§</h1><p>é™¤äº†æ€§èƒ½è¿™ä¸ªå¿ƒç»“å¤–ï¼Œå¾ˆå¤šå¼€å‘è€…ç›´åˆ°ç°åœ¨è¿˜ä¸æ„¿æ„ä½¿ç”¨ Auto Layoutçš„å¦ä¸€ä¸ªåŸå› ï¼Œæ®æˆ‘äº†è§£å°±æ˜¯å®ƒè¿˜å­˜åœ¨åŸç”Ÿå†™æ³•ä¸æ˜“ç”¨çš„é—®é¢˜ã€‚</p><p>è‹¹æœå…¬å¸å…¶å®ä¹Ÿè€ƒè™‘åˆ°äº†è¿™ç‚¹ã€‚æ‰€ä»¥ï¼Œè‹¹æœå…¬å¸åæ¥åˆæä¾›äº† VFL (Visual Format Language) è¿™ç§ DSLï¼ˆDomain Specific Languageï¼Œä¸­æ–‡å¯ç¿»è¯‘ä¸ºâ€œé¢†åŸŸç‰¹å®šè¯­è¨€â€ï¼‰ è¯­è¨€æ¥ç®€åŒ– Auto Layout çš„å†™æ³•ã€‚</p><p>æœ¬è´¨ä¸Šï¼ŒAuto Layout åªæ˜¯ä¸€ç§æœ€åŸºç¡€çš„å¸ƒå±€æ€è·¯ã€‚åœ¨å‰ç«¯å‡ºç°äº† Flexbox è¿™ç§é«˜çº§çš„å“åº”å¼å¸ƒå±€æ€è·¯åï¼Œè‹¹æœå…¬å¸ä¹Ÿç´§è·Ÿå…¶åï¼ŒåŸºäº Auto Layout åˆå°è£…äº†ä¸€ä¸ªç±»ä¼¼ Flexbox çš„ UIStackViewï¼Œç”¨æ¥æé«˜ iOS å¼€å‘å“åº”å¼å¸ƒå±€çš„æ˜“ç”¨æ€§ã€‚</p><p>UIStackView ä¼šåœ¨çˆ¶è§†å›¾é‡Œè®¾ç½®å­è§†å›¾çš„æ’åˆ—æ–¹å¼ï¼Œæ¯”å¦‚ Fillã€Leadingã€Centerï¼Œè€Œä¸ç”¨åœ¨æ¯ä¸ªå­è§†å›¾ä¸­éƒ½è®¾ç½®è‡ªå·±å’Œå…„å¼Ÿè§†å›¾çš„å…³ç³»ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://static001.geekbang.org/resource/image/95/9a/955a92d094e1fdd4a647e5760ff0629a.png" alt=""></p><center><span class="reference">å›¾5 UIStackView åœ¨çˆ¶è§†å›¾é‡Œè®¾ç½®å­è§†å›¾çš„æ’åˆ—æ–¹å¼</span></center><p>è¿™æ ·åšï¼Œå¯ä»¥æå¤§åœ°å‡å°‘ä½ åœ¨çº¦æŸå…³ç³»è®¾ç½®ä¸Šæ‰€åšçš„é‡å¤å·¥ä½œï¼Œæå‡é¡µé¢å¸ƒå±€çš„ä½“éªŒã€‚</p><p>æˆ‘æ›¾å¼€å‘è¿‡ä¸€ä¸ª DSL è¯­è¨€ç”¨æ¥å¤„ç†é¡µé¢å¸ƒå±€ã€‚æˆ‘å½“æ—¶çš„æƒ³æ³•å°±æ˜¯ï¼Œå¸Œæœ›èƒ½å¤Ÿåœ¨å®é™…å·¥ä½œä¸­ä½¿ç”¨ VFLæŒ‰ç…§ UIStackView çš„æ€è·¯æ¥å†™å¸ƒå±€ã€‚ç”±äºé‚£æ—¶UIStackView ç³»ç»Ÿç‰ˆæœ¬è¦æ±‚é«˜ï¼Œæ‰€ä»¥ DSL çš„å†…éƒ¨æ²¡æœ‰ä½¿ç”¨ UIStackViewï¼Œè€Œç›´æ¥ä½¿ç”¨äº†Auto Layoutã€‚</p><p>DSL ä»£ç å¾ˆç®€æ´ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>{
    ht(padding:10)
    [avatarImageView(imageName:avatar)]
    [
        {
            vl(padding:10)
            [(text:æˆ´é“­,color:AAA0A3)]
            [(text:Starmingç«™é•¿,color:E3DEE0,font:13)]
            [(text:å–œæ¬¢ç”»ç”»ç¼–ç¨‹å’Œå†™å°è¯´,color:E3DEE0,font:13)]
        }
        (width:210,backColor:FAF8F9,backPaddingHorizontal:10,backPaddingVertical:10,radius:8)
    ]
}
</code></pre><p>è¿™æ®µä»£ç å¯¹åº”çš„ç•Œé¢æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="https://static001.geekbang.org/resource/image/47/7a/4745882ddbe68c5f120f15227578bb7a.png" alt=""></p><center><span class="reference">å›¾6 é¡µé¢å¸ƒå±€æ•ˆæœç¤ºä¾‹</span></center><p>å¯ä»¥çœ‹åˆ°ï¼ŒåµŒå¥—è§†å›¾é€šè¿‡ç®€å•çš„ DSL ä¹Ÿèƒ½å¾ˆå¥½åœ°è¡¨ç°å‡ºæ¥ã€‚è¯¦ç»†çš„ä½¿ç”¨è¯´æ˜å’Œä»£ç å®ç°ï¼Œä½ å¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹ï¼š<a href="https://github.com/ming1016/STMAssembleView">https://github.com/ming1016/STMAssembleView</a></p><h1>å°ç»“</h1><p>ä»Šå¤©è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘å’Œä½ è¯´äº† Auto Layout èƒŒåä½¿ç”¨çš„Cassowaryç®—æ³•ã€‚åŒæ—¶ï¼Œæˆ‘ä¹Ÿå’Œä½ è¯´äº†è‹¹æœå…¬å¸ç»è¿‡ä¸€ç•ªåŠªåŠ›ï¼Œç»ˆäºåœ¨ iOS 12 ä¸Šç”¨åˆ°äº†Cassowaryç®—æ³•çš„ç•Œé¢æ›´æ–°ç­–ç•¥ï¼Œä½¿å¾— Auto Layout çš„æ€§èƒ½å¾—åˆ°äº†å¤§å¹…æå‡ã€‚</p><p>è‡³æ­¤ï¼ŒAuto Layout æ€§èƒ½çš„æå‡å¯ä»¥è®©ä½ æ”¾å¿ƒåœ°ä½¿ç”¨ã€‚</p><p>è®°å¾—ä¸Šæ¬¡æˆ‘å’Œä¸€ä¸ªè‹¹æœå…¬å¸çš„æŠ€æœ¯æ”¯æŒäººå‘˜èŠåˆ°ï¼Œåˆ°åº•åº”è¯¥ä½¿ç”¨è‹¹æœè‡ªå·±çš„å¸ƒå±€è¿˜æ˜¯ç¬¬ä¸‰æ–¹å·¥å…·æ¯”å¦‚ Texture æ—¶ï¼Œä»–çš„è§‚ç‚¹æ˜¯ï¼šä½¿ç”¨è‹¹æœå…¬å¸çš„æŠ€æœ¯å¾—åˆ°çš„æŠ€æœ¯å‡çº§æ˜¯æŒç»­çš„ï¼Œè€Œç¬¬ä¸‰æ–¹ä¸å†ç»´æŠ¤çš„å¯èƒ½æ€§æ˜¯å¾ˆé«˜çš„ã€‚</p><p>å…¶å®ç»†ç»†æƒ³æ¥ï¼Œè¿™éå¸¸æœ‰é“ç†ã€‚è¿™æ¬¡ Auto Layout çš„å‡çº§å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ï¼Œä½ çš„ä»£ç ä¸€è¡Œä¸å˜å°±èƒ½äº«å—åˆ°è€—æ—¶ä»æŒ‡æ•°çº§ä¸‹é™åˆ°çº¿æ€§çš„æ€§èƒ½æå‡ã€‚è€Œå¾ˆå¤šç¬¬ä¸‰æ–¹åº“ï¼Œä¼šéšç€ iOS ç³»ç»Ÿå‡çº§å¤±å»åŸæœ‰çš„ä¼˜åŠ¿ã€‚</p><h1>è¯¾åå°ä½œä¸š</h1><p>è¯·ä½ å‚è€ƒ<a href="https://developer.apple.com/library/archive/documentation/UserExperience/Conceptual/AutolayoutPG/VisualFormatLanguage.html">VFLçš„æ‰‹å†Œ</a>ï¼Œç¼–å†™ä¸€ä¸ªåŸºäº UIStackView çš„ DSLã€‚</p><p>æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œæ¬¢è¿ä½ åœ¨è¯„è®ºåŒºç»™æˆ‘ç•™è¨€åˆ†äº«ä½ çš„è§‚ç‚¹ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·é˜…è¯»ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/f5/27/f5ee90aa0183a4bcc688980bd625eb27.jpg" alt=""></p><h2>ç²¾é€‰ç•™è¨€ï¼š</h2>
        <ul>
        
<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            Later equals never.  2019-03-17 17:13:54
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            å…³äº UI çš„å¸ƒå±€ï¼Œæ˜¯ä½¿ç”¨ frame è¿˜æ˜¯ Auto Layout ï¼Ÿè¿™ä¸ªé—®é¢˜å›°æ‰°äº†æˆ‘å¾ˆä¹…ï¼Œåœ¨ä¹‹å‰çš„å›¢é˜Ÿä¸­æ˜¯å»ºè®®ä½¿ç”¨ frame çš„ï¼ŒåŸå› æ˜¯åœ¨ layoutSubviews ä¸­åšå¸ƒå±€ï¼Œå°†æ‰€æœ‰çš„å­è§†å›¾æŒ‰ç…§ UI æ˜¾ç¤ºä»ä¸Šè‡³ä¸‹ã€ä»å·¦è‡³å³çš„é¡ºåºæ¥å¸ƒå±€ï¼Œæ„Ÿè§‰ä¹Ÿå¾ˆè§„èŒƒï¼Œä»£ç ä¹Ÿä¸ä¼šå¯¼è‡´ä¸æ˜“ç»´æŠ¤çš„ç¨‹åº¦ã€‚<br>æˆ‘ä¸€ç›´æœ‰è¿™ä¹ˆä¸€æ¡åŸåˆ™ï¼šç®€å•çš„ UI ä½¿ç”¨ Auto Layout ï¼Œå¤æ‚çš„ UI ä½¿ç”¨ frameã€‚åŸå› å¦‚ä¸‹ï¼š<br>1ã€ä»ä»£ç é‡ä¸Šæ¥çœ‹ï¼Œä¸¤ç§å¸ƒå±€æ–¹å¼ç›¸å·®ä¸å¤§ã€‚æœ‰æ—¶å€™å‘ç°å¤æ‚çš„ UI ä½¿ç”¨  Auto Layout çš„è¯ï¼Œä»£ç é‡åè€Œä¼šå˜å¤šï¼Œå› ä¸ºå¤æ‚çš„ UI å¾€å¾€ä¼šæœ‰å¤æ‚çš„é€»è¾‘ï¼Œæ¯”å¦‚æ ¹æ®æ•°æ®çš„ä¸åŒï¼Œéƒ¨åˆ† UI çš„æ˜¾ç¤ºä¼šæœ‰å˜åŠ¨ï¼ˆæ¯”å¦‚æŸä¸ªå­è§†å›¾éšè—ä¸æ˜¾ç¤ºï¼Œ ä¼šå½±å“åˆ°å…¶å®ƒè§†å›¾çš„å¸ƒå±€ï¼‰ã€‚<br>2ã€ä¼šå°†é‚£ç§ä»…åšäº†ä¸€æ¬¡çº¦æŸä¹‹åï¼Œå°±å¯ä»¥ä¸ç”¨åšå¤ªå¤š update çš„é‚£ç§è§†ä¸ºç®€å•çš„å¸ƒå±€ï¼Œè¿™ç§æƒ…å†µä¸‹ä½¿ç”¨ Auto Layout è¿˜æ˜¯æŒºæ–¹ä¾¿çš„ã€‚<br>3ã€ä¼šå°† Cell çš„é«˜åº¦ä¼šéšç€æ•°æ®çš„ä¸åŒè€Œä¸åŒçš„å¸ƒå±€è§†ä¸ºå¤æ‚çš„ UI å¸ƒå±€ï¼Œè¿™ç§æƒ…å†µä¸‹ä½¿ç”¨ Auto Layout æ¥å¸ƒå±€ï¼Œæ„Ÿè§‰å°±ä¸åˆé€‚ã€‚å› ä¸ºä¸ç®¡æ˜¯ frame è¿˜æ˜¯ Auto Layoutï¼Œéƒ½éœ€è¦å»è®¡ç®—é«˜åº¦ï¼Œå…¶å®åœ¨è®¡ç®— é«˜åº¦çš„æ—¶å€™ï¼Œæ‰€æœ‰çš„å­è§†å›¾çš„ frame éƒ½å·²ç»å†³å®šäº†ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œç›´æ¥ä½¿ç”¨ frame ä¼šæ¯”è¾ƒç²¾ç®€ã€‚<br>4ã€æˆ‘è§è¿‡è¿™æ ·çš„ä»£ç ï¼šåŠ¨æ€çš„é€šè¿‡æ–‡æœ¬ï¼Œè®¡ç®—å‡ºå°ºå¯¸ä¹‹åï¼Œå†ä½¿ç”¨ Auto Layout è¿›è¡Œ updateï¼Œæ„Ÿè§‰å¤ªæ²¡æœ‰è¿™ä¸ªå¿…è¦äº†ã€‚<br><br>ä»¥ä¸Šæ˜¯æˆ‘å¯¹ UI å¸ƒå±€çš„ä¸€ç‚¹æ€è€ƒï¼Œè¯·æ•™å¤§ç¥ï¼šå‡­æ‚¨çš„ç»éªŒï¼Œè¿™æ ·çš„æ€è€ƒæœ‰ä»€ä¹ˆä¸åˆç†ä¹‹å¤„ä¹ˆï¼Ÿï¼ˆç®€å•çš„ UI ä½¿ç”¨ Auto Layout ï¼Œå¤æ‚çš„ UI ä½¿ç”¨ frameã€‚ï¼‰ [25èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-19 20:06:47</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">è¿™æ ·æƒ³æ²¡æœ‰é—®é¢˜</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            é•¿è…¿æ¬§å·´  2019-03-16 08:39:47
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            ä½¿ç”¨ Auto Layout ä¸€å®šè¦æ³¨æ„å¤šä½¿ç”¨ Compression Resistance Priority å’Œ Hugging Priorityï¼Œåˆ©ç”¨ä¼˜å…ˆçº§çš„è®¾ç½®ï¼Œè®©å¸ƒå±€æ›´åŠ çµæ´»ï¼Œä»£ç æ›´å°‘ï¼Œæ›´æ˜“äºç»´æŠ¤ã€‚<br><br>èƒ½å¦ä¸¾ä¸€äº›è¯¦ç»†çš„ä»£ç äº‹ä¾‹ï¼ï¼ï¼ [14èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-16 10:40:36</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">æœ‰çš„ã€‚ä½ å¯ä»¥çœ‹æˆ‘çš„è¿™ä¸ª demo https:&#47;&#47;github.com&#47;ming1016&#47;ShowAutoLayout</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            å¾ç§€æ»¨  2019-03-16 17:25:28
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            é’ˆå¯¹Auto Layoutçš„ç”Ÿå‘½å‘¨æœŸï¼Œæˆ‘æ˜¯è¿™ä¹ˆç†è§£çš„ï¼š<br>Auto Layoutæ‹¥æœ‰ä¸€å¥—Layout Engineå¼•æ“ï¼Œç”±å®ƒæ¥ä¸»å¯¼é¡µé¢çš„å¸ƒå±€ã€‚Appå¯åŠ¨åï¼Œä¸»çº¿ç¨‹çš„Run Loopä¼šä¸€ç›´å¤„äºç›‘å¬çŠ¶æ€ï¼Œå½“çº¦æŸå‘ç”Ÿå˜åŒ–åä¼šè§¦å‘Deffered Layout Passï¼ˆå»¶è¿Ÿå¸ƒå±€ä¼ é€’ï¼‰ï¼Œåœ¨é‡Œé¢åšå®¹é”™å¤„ç†ï¼ˆçº¦æŸä¸¢å¤±ç­‰æƒ…å†µï¼‰å¹¶æŠŠviewæ ‡è¯†ä¸ºdirtyçŠ¶æ€ï¼Œç„¶åRun Loopå†æ¬¡è¿›å…¥ç›‘å¬é˜¶æ®µã€‚å½“ä¸‹ä¸€æ¬¡åˆ·æ–°å±å¹•åŠ¨ä½œæ¥ä¸´ï¼ˆæˆ–è€…æ˜¯è°ƒç”¨layoutIfNeededï¼‰æ—¶ï¼ŒLayout Engine ä¼šä»ä¸Šåˆ°ä¸‹è°ƒç”¨ layoutSubviews() ï¼Œé€šè¿‡ Cassowaryç®—æ³•è®¡ç®—å„ä¸ªå­è§†å›¾çš„ä½ç½®ï¼Œç®—å‡ºæ¥åå°†å­è§†å›¾çš„frameä»Layout Engineæ‹·è´å‡ºæ¥ï¼Œæ¥ä¸‹æ¥çš„è¿‡ç¨‹å°±è·Ÿæ‰‹å†™frameæ˜¯ä¸€æ ·çš„äº†ã€‚<br>è¿™æ ·å¯å¯¹ï¼Ÿ [13èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-19 18:27:10</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">å¯¹</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            burningğŸ˜•ğŸ™„  2019-03-16 10:19:39
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            æ²¡æœ‰è®²åˆ° cell é‡Œé¢ labelçš„é«˜åº¦è‡ªé€‚åº”é—®é¢˜ï¼Œè¿™ä¸ªåœ¨layoutåº”è¯¥ä½¿ç”¨é¢‘ç‡æ¯”è¾ƒé«˜å§ [11èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-16 11:05:43</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">å…·ä½“ä½¿ç”¨ï¼Œå¯ä»¥çœ‹æˆ‘è¿™ç¯‡æ–‡ç« ï¼Œé‡Œé¢æ¶‰åŠåˆ°<br>https:&#47;&#47;github.com&#47;ming1016&#47;study&#47;wiki&#47;Masonry<br><br>æˆ‘æŠŠç›¸å…³å†…å®¹æˆªå–åˆ°è¿™é‡Œ<br><br>ä¸»è¦æ˜¯UILabelçš„é«˜åº¦ä¼šæœ‰å˜åŒ–ï¼Œæ‰€ä»¥è¿™é‡Œä¸»è¦æ˜¯è¯´è¯´labelå˜åŒ–æ—¶å¦‚ä½•å¤„ç†ï¼Œè®¾ç½®UILabelçš„æ—¶å€™æ³¨æ„è¦è®¾ç½®preferredMaxLayoutWidthè¿™ä¸ªå®½åº¦ï¼Œè¿˜æœ‰ContentHuggingPriorityä¸ºUILayoutPriorityRequried<br><br>CGFloat maxWidth = [UIScreen mainScreen].bounds.size.width - 10 * 2;<br><br>textLabel = [UILabel new];<br>textLabel.numberOfLines = 0;<br>textLabel.preferredMaxLayoutWidth = maxWidth;<br>[self.contentView addSubview:textLabel];<br><br>[textLabel mas_makeConstraints:^(MASConstraintMaker *make) {<br>    make.top.equalTo(statusView.mas_bottom).with.offset(10);<br>    make.left.equalTo(self.contentView).with.offset(10);<br>    make.right.equalTo(self.contentView).with.offset(-10);<br>    make.bottom.equalTo(self.contentView).with.offset(-10);<br>}];<br><br>[_contentLabel setContentHuggingPriority:UILayoutPriorityRequired forAxis:UILayoutConstraintAxisVertical];<br><br>å¦‚æœç‰ˆæœ¬æ”¯æŒæœ€ä½ç‰ˆæœ¬ä¸ºiOS 8ä»¥ä¸Šçš„è¯å¯ä»¥ç›´æ¥åˆ©ç”¨UITableViewAutomaticDimensionåœ¨tableviewçš„heightForRowAtIndexPathç›´æ¥è¿”å›å³å¯ã€‚<br><br>tableView.rowHeight = UITableViewAutomaticDimension;<br>tableView.estimatedRowHeight = 80; &#47;&#47;å‡å°‘ç¬¬ä¸€æ¬¡è®¡ç®—é‡ï¼ŒiOS7åæ”¯æŒ<br><br>- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath {<br>    &#47;&#47; åªç”¨è¿”å›è¿™ä¸ªï¼<br>    return UITableViewAutomaticDimension;<br>}<br><br>ä½†å¦‚æœéœ€è¦å…¼å®¹iOS 8ä¹‹å‰ç‰ˆæœ¬çš„è¯ï¼Œå°±è¦å›åˆ°è€è·¯å­ä¸Šäº†ï¼Œä¸»è¦æ˜¯ç”¨systemLayoutSizeFittingSizeæ¥å–é«˜ã€‚æ­¥éª¤æ˜¯å…ˆåœ¨æ•°æ®modelä¸­æ·»åŠ ä¸€ä¸ªheightçš„å±æ€§ç”¨æ¥ç¼“å­˜é«˜ï¼Œç„¶ååœ¨table viewçš„heightForRowAtIndexPathä»£ç†é‡Œstaticä¸€ä¸ªåªåˆå§‹åŒ–ä¸€æ¬¡çš„Cellå®ä¾‹ï¼Œç„¶åæ ¹æ®modelå†…å®¹å¡«å……æ•°æ®ï¼Œæœ€åæ ¹æ®cellçš„contentViewçš„systemLayoutSizeFittingSizeçš„æ–¹æ³•è·å–åˆ°cellçš„é«˜ã€‚å…·ä½“ä»£ç å¦‚ä¸‹<br><br>&#47;&#47;åœ¨modelä¸­æ·»åŠ å±æ€§ç¼“å­˜é«˜åº¦<br>@interface DataModel : NSObject<br>@property (copy, nonatomic) NSString *text;<br>@property (assign, nonatomic) CGFloat cellHeight; &#47;&#47;ç¼“å­˜é«˜åº¦<br>@end<br><br>- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath {<br>    static CustomCell *cell;<br>    &#47;&#47;åªåˆå§‹åŒ–ä¸€æ¬¡cell<br>    static dispatch_once_t onceToken;<br>    dispatch_once(&amp;onceToken, ^{<br>        cell = [tableView dequeueReusableCellWithIdentifier:NSStringFromClass([CustomCell class])];<br>  <br><br>è¿˜æœ‰è¿™ç¯‡ https:&#47;&#47;ming1016.github.io&#47;2015&#47;11&#47;03&#47;deeply-analyse-autolayout&#47; ä¼šè®²çš„æ›´è¯¦ç»†äº›</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            å¾æ‰¬  2019-03-18 05:52:10
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            autolayout çš„å¸ƒå±€ä»£ç åº”è¯¥å†™åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Œæ˜¯åœ¨view çš„layoutsubview æ–¹æ³•é‡Œé¢å†™ï¼Œè¿˜æ˜¯åœ¨view åŠ è½½å®Œæˆåå†™ï¼Œé‚£ä¸ªæ›´åˆç†å‘¢ï¼Ÿ [9èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-19 19:51:47</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">æ¨èç”¨ Masonry å’Œ SnapKit</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            Helloç¬éº¦å¾·å§†  2019-03-16 09:52:47
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            æœ‰ä¸€ä¼šé¢è¯•é¢è¯•å®˜é—®æˆ‘AutoLayoutæ€ä¹ˆå®ç°çš„ï¼Œæˆ‘æ‡µé€¼äº†ï¼Œç›¸è§æ¨æ™šå•Šï¼ [9èµ]
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            Sean Ma  2019-03-16 09:38:20
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            æˆ‘æƒ³äº†è§£ä¸‹è‡ªåŠ¨å¸ƒå±€ä¼šåœ¨å“ªä¸€ä¸ªæ—¶æœºä¸‹èƒ½å¤Ÿæ‹¿åˆ°ç›¸åº”çš„frameå’Œcenterï¼Œå› ä¸ºæœ‰æ—¶å€™åšå®Œçº¦æŸï¼Œæˆ‘æƒ³åœ¨viewdidlayerå‰æ‹¿åˆ°å…¶frameã€‚å¦å¤–è‡ªåŠ¨å¸ƒå±€æ€ä¹ˆåšåŠ¨ç”» [7èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-16 10:57:32</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">æ–‡ç« æœ‰æåˆ°ã€‚Layout Engine ä¼šä»ä¸Šåˆ°ä¸‹è°ƒç”¨ layoutSu... è¿™ä¸ªéƒ¨ä»½ã€‚<br><br>åŠ¨ç”»çš„è¯ã€‚å› ä¸ºå¸ƒå±€çº¦æŸå°±æ˜¯è¦è„±ç¦»frameè¿™ç§è¡¨è¾¾æ–¹å¼çš„ï¼Œå¯æ˜¯åŠ¨ç”»æ˜¯éœ€è¦æ ¹æ®è¿™ä¸ªæ¥æ‰§è¡Œï¼Œè¿™é‡Œé¢å°±ä¼šæœ‰äº›çŸ›ç›¾ï¼Œä¸è¿‡æ ¹æ®å‰é¢è¯´åˆ°çš„å¸ƒå±€çº¦æŸçš„åŸç†ï¼Œåœ¨æŸä¸ªæ—¶åˆ»çº¦æŸä¹Ÿæ˜¯ä¼šè¢«è¿˜åŸæˆframeä½¿è§†å›¾æ˜¾ç¤ºï¼Œè¿™ä¸ªæ—¶åˆ»å¯ä»¥é€šè¿‡layoutIfNeededè¿™ä¸ªæ–¹æ³•æ¥è¿›è¡Œæ§åˆ¶ã€‚å…·ä½“ä»£ç å¦‚ä¸‹<br><br>[aniView mas_makeConstraints:^(MASConstraintMaker *make) {<br>    make.top.bottom.left.right.equalTo(self.view).offset(10);<br>}];<br><br>[aniView mas_updateConstraints:^(MASConstraintMaker *make) {<br>    make.top.equalTo(self.view).offset(30);<br>}];<br><br>[UIView animateWithDuration:3 animations:^{<br>    [self.view layoutIfNeeded];<br>}];</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            power  2019-03-18 09:54:25
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            ä¸çŸ¥é“å¤§å®¶å¯¹è§†å›¾ä¾èµ–çš„å¤„ç†æœ‰æ²¡æœ‰å¾ˆå¥½çš„æ–¹æ³•:Aä¾èµ–Bï¼ŒBä¾èµ–Cï¼ŒCä¾èµ–Dï¼ŒBCæœ‰å¯èƒ½ä¸å­˜åœ¨ï¼Œæ‰€ä»¥Dçš„ä¾èµ–æœ‰å¯èƒ½æ˜¯ABCï¼Œè¿™ç§æœ‰æ²¡æœ‰å¥½çš„å¸ƒå±€æ€è·¯å‘¢ [5èµ]
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            xilie  2019-03-18 14:45:44
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            Hiï¼Œçœ‹äº†ä½ å†™çš„â€œAutoLayoutæƒ…å†µå¦‚ä½•è®¡ç®—UITableViewçš„å˜é«˜é«˜åº¦â€ï¼Œé—®ä¸ªé—®é¢˜ï¼š<br><br>æœ‰æ—¶å€™cellé‡Œé¢çš„ä¸€äº› label ä¼šåœ¨ä¸åŒæƒ…å†µä¸‹åˆ‡æ¢æ˜¾ç¤ºå’Œéšè—ï¼Œè¿™æ—¶ label çš„ä¸Šä¸‹é—´è·ï¼Œä¼šå‡ºç°å¼‚å¸¸ï¼Œæ¯”å¦‚ï¼š<br>ç«–ç€æ’åˆ—3ä¸ª label: a-b-cï¼Œé—´è·éƒ½æ˜¯20ï¼Œè¿™æ—¶ b éšè—ï¼Œc å’Œ a çš„é—´è·æ˜¯20ï¼Œè®¾è®¡è¦æ±‚æ˜¯10ï¼Œè¿™ç§æ€ä¹ˆå¤„ç†ï¼Ÿ [4èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-19 18:21:13</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">layoutsubview é‡Œå¯ä»¥å¾—åˆ° frame ç„¶ååˆ¤æ–­è¿›è¡Œhiddenå¤„ç†</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            è½©  2019-03-27 10:03:48
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            å…³äº Autolayoutï¼ŒiOS 12 å…·ä½“åšäº†å“ªäº›ä¼˜åŒ–å‘¢ï¼Ÿ [2èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-30 18:26:34</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">å‚è§ WWDC 2018 202 Session</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            Bo.zhang  2019-03-24 01:02:55
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            æˆ´ç¥ ä¸ºä»€ä¹ˆhttps:&#47;&#47;github.com&#47;ming1016&#47;STMAssembleView ä¸‹è½½åç¨‹åºè¿è¡Œåå‡ºlinké”™è¯¯ æ€ä¹ˆä¿®æ”¹å‘¢ï¼Ÿ [2èµ]
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            drunkenMouse  2019-03-19 23:24:39
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            æŠŠå¾ªç¯è¿™éƒ¨åˆ†æ€»ç»“äº†ä¸€ä¸‹ï¼š<br>è§¦å‘çº¦æŸå˜åŒ– â€”&gt; Layout Engineå°±éœ€è¦é‡æ–°è®¡ç®—å¸ƒå±€ï¼Œä¼šå…ˆè·å–åˆ°å½“å‰çš„å¸ƒå±€ï¼Œè°ƒç”¨SuperView.SetNeedLayout() â€”&gt; Deffered Layout Passè¿›è¡Œç›‘å¬ â€”&gt; Layout Engine ä»ä¸Šåˆ°ä¸‹è°ƒç”¨LayoutSubViews()ï¼Œé€šè¿‡Cassowaryç®—æ³•è®¡ç®—å„ä¸ªå­è§†å›¾çš„ä½ç½®ï¼Œç®—å‡ºæ¥åå°†å­è§†å›¾çš„Frameä»Layout Engineé‡Œæ‹·è´å‡ºæ¥ â€”&gt; å’Œæ‰‹å†™å¸ƒå±€çš„ç»˜åˆ¶ã€æ¸²æŸ“ä¸€æ ·ã€‚ [2èµ]
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            ç‹è·¯å¹¿  2019-03-18 11:53:46
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            æˆ‘ä¹Ÿå†™äº†ä¸€ä¸ªåŸºäºAuto layoutçš„swiftæ¡†æ¶ï¼Œåœ¨è¿™é‡Œï¼šhttps:&#47;&#47;github.com&#47;wlgemini&#47;Driftwood [2èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-19 18:23:37</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">æ£’æ£’çš„</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            Anyeler  2019-03-16 13:17:26
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            ä¸»è¦å…¬å¸çš„APPæ”¯æŒiOS8.0ä»¥ä¸Šï¼Œæ‰€ä»¥UIStackViewæ¯”è¾ƒå°‘ç”¨ [2èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-16 17:27:08</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">å­™æºçš„ FDStackView äº†è§£ä¸‹ã€‚ https:&#47;&#47;github.com&#47;forkingdog&#47;FDStackView</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            æ–­è™¹æ®‹é›ª  2019-03-16 09:02:08
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            é“­ç¥ã€è¯·é—®ä½¿ç”¨Autolayoutï¼Œå¦‚ä½•é€‚é…å¤šå¥—ä¸»é¢˜ï¼ˆå¤œé—´æ¨¡å¼ï¼‰å‘¢ï¼Ÿæˆ‘ä»¬ç°åœ¨çš„åšæ³•æ˜¯æ¯ä¸€ä¸ªxibçš„viewéƒ½æ‹‰çº¿åˆ°ä»£ç ï¼Œç„¶åå†ä»£ç åšä¸»é¢˜é€‚é…ã€‚ä¸€ç›´æ„Ÿè§‰ä¸å¤ªå¥½ï¼Œå¾ˆç¹ç... [2èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-16 10:45:39</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">æˆ‘æ¨èå…¨ä»£ç ï¼Œå¯ä»¥ä½¿ç”¨ä¸‰æ–¹åº“ç®€åŒ–å†™æ³•ï¼Œæˆ–è€…è‡ªå·±å®šä¹‰ DSL</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            BoomBoomå†°Boom  2019-03-16 09:01:33
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            Flexboxå¸ƒå±€iOSå¼€å‘ç”¨çš„å°‘  ä¸€èˆ¬éƒ½æ˜¯frameæˆ–è€…Masonry [2èµ]
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            åƒè˜‘è‡çš„å¤§ç°ç‹¼  2019-03-16 08:06:55
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            UIStackViewçš„æ¨å‡ºä»iOS9åˆ°ç°åœ¨å·²ç»å¾ˆä¹…äº†, ä»–ç¡®å®æ›´æ–¹ä¾¿å¸ƒå±€ï¼Œä½†æ˜¯åœ¨å¹³å¸¸çš„å¼€å‘é‡Œé¢ï¼Œè²Œä¼¼æ²¡çœ‹åˆ°æœ‰å¾ˆå¤šå°ä¼™ä¼´åœ¨ç”¨, è®°å¾—æœ‰ä¸€ç¯‡æ–‡ç« æåˆ°ï¼Œè‹¹æœçš„å¼€å‘äººå‘˜å»ºè®® ï¼Œå¦‚æœèƒ½ç”¨UIStackViewçš„ï¼Œå°½é‡éƒ½ç”¨UIStackView. ä¹‹å‰ä¸çŸ¥é“åŸå› ï¼Œè¯»äº†è¿™ç¯‡æˆ´è€å¸ˆçš„æ–‡ç« æ‰çŸ¥é“UIStackViewå¸ƒå±€çš„åŸç†ã€‚æœŸå¾…åç»­çš„æ–‡ç« ã€‚ [2èµ]
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            Kai  2019-03-16 05:51:27
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            å¦‚ä½•ç»ƒä¹ auto layoutçš„ä»£ç ç¼–å†™ï¼Ÿ [2èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-16 10:57:56</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">å¦‚æœæ²¡æœ‰ä¸šåŠ¡éœ€æ±‚å¼€å‘ï¼Œå¯ä»¥è‡ªå·±å¼€å‘ä¸ªç‹¬ç«‹ App å˜›ï¼Œå†™ç•Œé¢çš„æœºä¼šè¿˜æ˜¯å¾ˆå¤šçš„ã€‚</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            Geek_45fc02  2019-03-23 15:06:53
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            Autolayout+XIBæˆ–Storyboardå¯¹å¼€å‘æ•ˆç‡çš„æå‡æ˜¯å·¨å¤§çš„ï¼ŒçœŸæ­£çš„æ‰€è§å³æ‰€å¾—ï¼Œç”šè‡³å¯¹äºç‹¬ç«‹å¼€å‘è€Œè¨€å¾ˆå¤šåœºæ™¯éƒ½å¯ä»¥ç›´æ¥æŠŠstoryboardå½“ä½œç”»æ¿æ¥ä½¿ç”¨ï¼Œçœå»äº†åœ¨sketchä¸Šç”»UIçš„æ—¶é—´ã€‚å¦‚æœiOSæ²¡æœ‰XIBæˆ–è€…storyboardï¼ŒFlutterå¯èƒ½ä¼šæ¯”ç°åœ¨æ›´å—æ¬¢è¿ã€‚ [1èµ]
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            å¾è¥¿æ–‡  2019-03-20 16:19:56
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            iOS 12 ä¹‹å, Auto Layout çš„æ€§èƒ½ç¡®å®æå‡äº†ä¸å°‘, ä½†æ˜¯å®é™…å¼€å‘ä¸šåŠ¡ UITableViewä¸­å¤æ‚ä¸”å¤šå˜çš„UITableViewCell ä¸­ ä½¿ç”¨  Auto Layout çš„æ€§èƒ½è¿˜æ˜¯å ªå¿§çš„; è‡³å°‘åœ¨ç›¸æ¯” Texture è¿™æ ·çš„æ¡†æ¶æ€§èƒ½å·®è·è¿˜æ˜¯å¾ˆæ˜æ˜¾çš„; æ­£å¦‚æ–‡ç« ç»“å°¾è¯´çš„ ç¬¬ä¸‰æ–¹ä¸å†ç»´æŠ¤çš„å¯èƒ½æ€§æ˜¯å¾ˆé«˜çš„;  æœŸå¾…åé¢å…³äº Auto Layou ç›¸å…³å¸ƒå±€çš„ä¼˜åŒ–ã€‚ [1èµ]
        </div>
        
    </div>
</li>
            </ul>
</div>
</body>
</html>