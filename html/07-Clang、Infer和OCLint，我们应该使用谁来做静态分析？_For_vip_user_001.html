<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>07-Clangã€Inferå’ŒOCLintï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨è°æ¥åšé™æ€åˆ†æï¼Ÿ</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <style>
        html {
            color: #333;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            text-rendering: optimizelegibility;
            font-family: Helvetica Neue, PingFang SC, Verdana, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, sans-serif
        }

        html.borderbox *,
        html.borderbox :after,
        html.borderbox :before {
            box-sizing: border-box
        }

        article,
        aside,
        blockquote,
        body,
        button,
        code,
        dd,
        details,
        dl,
        dt,
        fieldset,
        figcaption,
        figure,
        footer,
        form,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        header,
        hr,
        input,
        legend,
        li,
        menu,
        nav,
        ol,
        p,
        pre,
        section,
        td,
        textarea,
        th,
        ul {
            margin: 0;
            padding: 0
        }

        article,
        aside,
        details,
        figcaption,
        figure,
        footer,
        header,
        menu,
        nav,
        section {
            display: block
        }

        audio,
        canvas,
        video {
            display: inline-block
        }

        body,
        button,
        input,
        select,
        textarea {
            font: 300 1em/1.8 PingFang SC, Lantinghei SC, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, Helvetica, sans-serif
        }

        button::-moz-focus-inner,
        input::-moz-focus-inner {
            padding: 0;
            border: 0
        }

        table {
            border-collapse: collapse;
            border-spacing: 0
        }

        fieldset,
        img {
            border: 0
        }

        blockquote {
            position: relative;
            color: #999;
            font-weight: 400;
            border-left: 1px solid #1abc9c;
            padding-left: 1em;
            margin: 1em 3em 1em 2em
        }

        @media only screen and (max-width: 640px) {
            blockquote {
                margin: 1em 0
            }
        }

        abbr,
        acronym {
            border-bottom: 1px dotted;
            font-variant: normal
        }

        abbr {
            cursor: help
        }

        del {
            text-decoration: line-through
        }

        address,
        caption,
        cite,
        code,
        dfn,
        em,
        th,
        var {
            font-style: normal;
            font-weight: 400
        }

        ol,
        ul {
            list-style: none
        }

        caption,
        th {
            text-align: left
        }

        q:after,
        q:before {
            content: ""
        }

        sub,
        sup {
            font-size: 75%;
            line-height: 0;
            position: relative
        }

        :root sub,
        :root sup {
            vertical-align: baseline
        }

        sup {
            top: -.5em
        }

        sub {
            bottom: -.25em
        }

        a {
            color: #1abc9c
        }

        a:hover {
            text-decoration: underline
        }

        .typo a {
            border-bottom: 1px solid #1abc9c
        }

        .typo a:hover {
            border-bottom-color: #555;
            color: #555
        }

        .typo a:hover,
        a,
        ins {
            text-decoration: none
        }

        .typo-u,
        u {
            text-decoration: underline
        }

        mark {
            background: #fffdd1;
            border-bottom: 1px solid #ffedce;
            padding: 2px;
            margin: 0 5px
        }

        code,
        pre,
        pre tt {
            font-family: Courier, Courier New, monospace
        }

        pre {
            background: hsla(0, 0%, 97%, .7);
            border: 1px solid #ddd;
            padding: 1em 1.5em;
            display: block;
            -webkit-overflow-scrolling: touch
        }

        hr {
            border: none;
            border-bottom: 1px solid #cfcfcf;
            margin-bottom: .8em;
            height: 10px
        }

        .typo-small,
        figcaption,
        small {
            font-size: .9em;
            color: #888
        }

        b,
        strong {
            font-weight: 700;
            color: #000
        }

        [draggable] {
            cursor: move
        }

        .clearfix:after,
        .clearfix:before {
            content: "";
            display: table
        }

        .clearfix:after {
            clear: both
        }

        .clearfix {
            zoom: 1
        }

        .textwrap,
        .textwrap td,
        .textwrap th {
            word-wrap: break-word;
            word-break: break-all
        }

        .textwrap-table {
            table-layout: fixed
        }

        .serif {
            font-family: Palatino, Optima, Georgia, serif
        }

        .typo-dl,
        .typo-form,
        .typo-hr,
        .typo-ol,
        .typo-p,
        .typo-pre,
        .typo-table,
        .typo-ul,
        .typo dl,
        .typo form,
        .typo hr,
        .typo ol,
        .typo p,
        .typo pre,
        .typo table,
        .typo ul,
        blockquote {
            margin-bottom: 1rem
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: PingFang SC, Helvetica Neue, Verdana, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, sans-serif;
            color: #000;
            line-height: 1.35
        }

        .typo-h1,
        .typo-h2,
        .typo-h3,
        .typo-h4,
        .typo-h5,
        .typo-h6,
        .typo h1,
        .typo h2,
        .typo h3,
        .typo h4,
        .typo h5,
        .typo h6 {
            margin-top: 1.2em;
            margin-bottom: .6em;
            line-height: 1.35
        }

        .typo-h1,
        .typo h1 {
            font-size: 2em
        }

        .typo-h2,
        .typo h2 {
            font-size: 1.8em
        }

        .typo-h3,
        .typo h3 {
            font-size: 1.6em
        }

        .typo-h4,
        .typo h4 {
            font-size: 1.4em
        }

        .typo-h5,
        .typo-h6,
        .typo h5,
        .typo h6 {
            font-size: 1.2em
        }

        .typo-ul,
        .typo ul {
            margin-left: 1.3em;
            list-style: disc
        }

        .typo-ol,
        .typo ol {
            list-style: decimal;
            margin-left: 1.9em
        }

        .typo-ol ol,
        .typo-ol ul,
        .typo-ul ol,
        .typo-ul ul,
        .typo li ol,
        .typo li ul {
            margin-bottom: .8em;
            margin-left: 2em
        }

        .typo-ol ul,
        .typo-ul ul,
        .typo li ul {
            list-style: circle
        }

        .typo-table td,
        .typo-table th,
        .typo table caption,
        .typo table td,
        .typo table th {
            border: 1px solid #ddd;
            padding: .5em 1em;
            color: #666
        }

        .typo-table th,
        .typo table th {
            background: #fbfbfb
        }

        .typo-table thead th,
        .typo table thead th {
            background: hsla(0, 0%, 95%, .7)
        }

        .typo table caption {
            border-bottom: none
        }

        .typo-input,
        .typo-textarea {
            -webkit-appearance: none;
            border-radius: 0
        }

        .typo-em,
        .typo em,
        caption,
        legend {
            color: #000;
            font-weight: inherit
        }

        .typo-em {
            position: relative
        }

        .typo-em:after {
            position: absolute;
            top: .65em;
            left: 0;
            width: 100%;
            overflow: hidden;
            white-space: nowrap;
            content: "\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB"
        }

        .typo img {
            max-width: 100%
        }

        .common-content {
            font-weight: 400;
            color: #353535;
            line-height: 1.75rem;
            white-space: normal;
            word-break: normal;
            font-size: 1rem
        }

        .common-content img {
            display: block;
            max-width: 100%;
            background-color: #eee
        }

        .common-content audio,
        .common-content video {
            width: 100%;
            background-color: #eee
        }

        .common-content center,
        .common-content font {
            margin-top: 1rem;
            display: inline-block
        }

        .common-content center {
            width: 100%
        }

        .common-content pre {
            margin-top: 1rem;
            padding-left: 0;
            padding-right: 0;
            position: relative;
            overflow: hidden
        }

        .common-content pre code {
            font-size: .8rem;
            font-family: Consolas, Liberation Mono, Menlo, monospace, Courier;
            display: block;
            width: 100%;
            box-sizing: border-box;
            padding-left: 1rem;
            padding-right: 1rem;
            overflow-x: auto
        }

        .common-content hr {
            border: none;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-top: 1px solid #f5f5f5;
            height: 1px;
            background: none
        }

        .common-content b,
        .common-content h1,
        .common-content h2,
        .common-content h3,
        .common-content h4,
        .common-content h5,
        .common-content strong {
            font-weight: 700
        }

        .common-content h1,
        .common-content h2 {
            font-size: 1.125rem;
            margin-bottom: .45rem
        }

        .common-content h3,
        .common-content h4,
        .common-content h5 {
            font-size: 1rem;
            margin-bottom: .45rem
        }

        .common-content p {
            font-weight: 400;
            color: #353535;
            margin-top: .15rem
        }

        .common-content .orange {
            color: #ff5a05
        }

        .common-content .reference {
            font-size: 1rem;
            color: #888
        }

        .custom-rich-content h1 {
            margin-top: 0;
            font-weight: 400;
            font-size: 15.25px;
            border-bottom: 1px solid #eee;
            line-height: 2.8
        }

        .custom-rich-content li,
        .custom-rich-content p {
            font-size: 14px;
            color: #888;
            line-height: 1.6
        }

        table.hljs-ln {
            margin-bottom: 0;
            border-spacing: 0;
            border-collapse: collapse
        }

        table.hljs-ln,
        table.hljs-ln tbody,
        table.hljs-ln td,
        table.hljs-ln tr {
            box-sizing: border-box
        }

        table.hljs-ln td {
            padding: 0;
            border: 0
        }

        table.hljs-ln td.hljs-ln-numbers {
            min-width: 15px;
            color: rgba(27, 31, 35, .3);
            text-align: right;
            white-space: nowrap;
            cursor: pointer;
            user-select: none
        }

        table.hljs-ln td.hljs-ln-code,
        table.hljs-ln td.hljs-ln-numbers {
            font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
            font-size: 12px;
            line-height: 20px;
            vertical-align: top
        }

        table.hljs-ln td.hljs-ln-code {
            position: relative;
            padding-right: 10px;
            padding-left: 10px;
            overflow: visible;
            color: #24292e;
            word-wrap: normal;
            white-space: pre
        }

        video::-webkit-media-controls {
            overflow: hidden !important
        }

        video::-webkit-media-controls-enclosure {
            width: calc(100% + 32px);
            margin-left: auto
        }

        ._29HP61GA_0 {
            max-width:800px;
            margin:0 auto;
            margin-bottom: 20px;
            font-weight: 400;
            color: #353535;
            line-height: 1.76;
            white-space: normal;
            word-break: normal;
            font-size: 17px;
            -webkit-transition: background-color .3s ease;
            transition: background-color .3s ease
        }

        ._29HP61GA_0 .MathJax_Display {
            overflow: auto
        }

        ._29HP61GA_0 .poster {
            position: fixed;
            left: -10000px;
            top: -10000px;
            overflow: hidden;
            padding: 1rem;
            background: #ececec
        }

        ._29HP61GA_0 .richcontent-pre-copy {
            font-size: 13px;
            color: #888;
            position: absolute;
            right: 1em;
            top: .5em;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none
        }

        ._29HP61GA_0 .richcontent-pre-copy .iconfont {
            font-size: 12px;
            margin-right: .2em
        }

        ._29HP61GA_0 a {
            color: #fa8919;
            border-bottom: 1px solid #fa8919
        }

        ._29HP61GA_0 img {
            display: block;
            max-width: 100%;
            position: relative;
            left: 50%;
            -webkit-transform: translateX(-50%);
            transform: translateX(-50%);
            background-color: #eee;
            vertical-align: top;
            border-radius: 0
        }

        ._29HP61GA_0 audio,
        ._29HP61GA_0 video {
            width: 100%;
            background-color: #eee
        }

        ._29HP61GA_0 pre {
            margin-top: 16px;
            padding: 34px 0 0;
            margin-bottom: 30px;
            position: relative;
            border-radius: 6px;
            background: rgba(246, 247, 251, .749);
            border: 0
        }

        ._29HP61GA_0 pre code {
            font-size: 12px;
            font-family: Consolas, Liberation Mono, Menlo, monospace, Courier;
            display: block;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            margin-left: 16px;
            margin-right: 16px;
            overflow-x: scroll
        }

        ._29HP61GA_0 pre code:after {
            content: "";
            height: 30px;
            width: 100%;
            display: block
        }

        ._29HP61GA_0 hr {
            border: none;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-top: 1px solid #f5f5f5;
            height: 1px;
            background: none
        }

        ._29HP61GA_0 h1,
        ._29HP61GA_0 h2,
        ._29HP61GA_0 h3,
        ._29HP61GA_0 h4,
        ._29HP61GA_0 h5 {
            margin-bottom: 20px;
            margin-top: 0;
            font-weight: 700
        }

        ._29HP61GA_0 b,
        ._29HP61GA_0 strong {
            font-weight: 700
        }

        ._29HP61GA_0 h1 {
            font-size: 21px
        }

        ._29HP61GA_0 h2 {
            font-size: 20px
        }

        ._29HP61GA_0 h3 {
            font-size: 19px
        }

        ._29HP61GA_0 h4 {
            font-size: 18px
        }

        ._29HP61GA_0 h5 {
            font-size: 17px
        }

        ._29HP61GA_0 center,
        ._29HP61GA_0 p {
            font-weight: 400;
            color: #353535;
            margin-top: 0;
            margin-bottom: 30px;
            word-break: break-word
        }

        ._29HP61GA_0 center {
            text-align: center
        }

        ._29HP61GA_0 blockquote {
            margin-top: 0;
            margin-bottom: 34px;
            border-left: 3px solid #e8e8e8;
            padding-left: 17px;
            color: #353535
        }

        ._29HP61GA_0 blockquote p {
            margin-top: 0;
            margin-bottom: 0
        }

        ._29HP61GA_0 ol,
        ._29HP61GA_0 ul {
            margin-bottom: 30px
        }

        ._29HP61GA_0 ol p,
        ._29HP61GA_0 ul p {
            margin-top: 0;
            margin-bottom: 0
        }

        ._29HP61GA_0 ol {
            list-style: decimal;
            margin-left: 20px
        }

        ._29HP61GA_0 ul li {
            padding-left: 17px;
            position: relative;
            margin-bottom: 10px
        }

        ._29HP61GA_0 ul li:after {
            content: "";
            height: 6px;
            width: 6px;
            border-radius: 50%;
            background: #353535;
            position: absolute;
            top: 10px;
            left: 0
        }

        ._29HP61GA_0 .orange {
            color: #fa8919
        }

        ._29HP61GA_0 .reference {
            color: #888
        }

        ._29HP61GA_0 .m-right {
            text-align: right
        }

        ._29HP61GA_0 .m-center {
            text-align: center;
            display: block
        }

        ._29HP61GA_0 .m-gray {
            color: #888
        }

        ._29HP61GA_0 .m-small {
            font-size: 15px
        }

        ._29HP61GA_0 table.hljs-ln {
            margin-bottom: 0;
            border-spacing: 0;
            border-collapse: collapse
        }

        ._29HP61GA_0 table.hljs-ln,
        ._29HP61GA_0 table.hljs-ln tbody,
        ._29HP61GA_0 table.hljs-ln td,
        ._29HP61GA_0 table.hljs-ln tr {
            -webkit-box-sizing: border-box;
            box-sizing: border-box
        }

        ._29HP61GA_0 table.hljs-ln td {
            padding: 0;
            border: 0
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers {
            min-width: 15px;
            font-size: 12px;
            color: rgba(27, 31, 35, .3);
            text-align: right;
            white-space: nowrap;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-code,
        ._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers {
            font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
            line-height: 20px;
            vertical-align: top
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-code {
            position: relative;
            padding-right: 10px;
            padding-left: 10px;
            overflow: visible;
            font-size: 13px;
            color: #666;
            word-wrap: normal;
            white-space: pre
        }

    </style>
</head>
<body>
<div class="_29HP61GA_0">
<h1>07-Clangã€Inferå’ŒOCLintï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨è°æ¥åšé™æ€åˆ†æï¼Ÿ</h1>
<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æˆ´é“­ã€‚</p><p>éšç€ä¸šåŠ¡å¼€å‘è¿­ä»£é€Ÿåº¦è¶Šæ¥è¶Šå¿«ï¼Œå®Œå…¨ä¾èµ–äººå·¥ä¿è¯å·¥ç¨‹è´¨é‡ä¹Ÿå˜å¾—è¶Šæ¥è¶Šä¸ç‰¢é ã€‚æ‰€ä»¥ï¼Œé™æ€åˆ†æï¼Œè¿™ç§å¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨ç¼–å†™ä»£ç çš„é˜¶æ®µå°±èƒ½åŠæ—¶å‘ç°ä»£ç é”™è¯¯ï¼Œä»è€Œåœ¨æ ¹å„¿ä¸Šä¿è¯å·¥ç¨‹è´¨é‡çš„æŠ€æœ¯ï¼Œå°±æˆä¸ºäº†iOSå¼€å‘è€…æœ€å¸¸ç”¨åˆ°çš„ä¸€ç§ä»£ç è°ƒè¯•æŠ€æœ¯ã€‚</p><p>Xcode è‡ªå¸¦çš„é™æ€åˆ†æå·¥å…· Analyzeï¼Œé€šè¿‡é™æ€è¯­æ³•åˆ†æèƒ½å¤Ÿæ‰¾å‡ºåœ¨ä»£ç å±‚é¢å°±èƒ½å‘ç°çš„å†…å­˜æ³„éœ²é—®é¢˜ï¼Œè¿˜å¯ä»¥é€šè¿‡ä¸Šä¸‹æ–‡åˆ†æå‡ºæ˜¯å¦å­˜åœ¨å˜é‡æ— ç”¨ç­‰é—®é¢˜ã€‚ä½†æ˜¯ï¼ŒAnalyze çš„åŠŸèƒ½è¿˜æ˜¯æœ‰é™ï¼Œè¿˜æ˜¯æ— æ³•å¸®åŠ©æˆ‘ä»¬åœ¨ç¼–å†™ä»£ç çš„é˜¶æ®µå‘ç°æ›´å¤šçš„é—®é¢˜ã€‚æ‰€ä»¥ï¼Œè¿™æ‰è¯ç”Ÿå‡ºäº†åŠŸèƒ½æ›´å…¨ã€å®šåˆ¶åŒ–é«˜ã€æ•ˆç‡é«˜çš„ç¬¬ä¸‰æ–¹é™æ€æ£€æŸ¥å·¥å…·ã€‚æ¯”å¦‚ï¼ŒOCLintã€Inferã€Clangé™æ€åˆ†æå™¨ç­‰ã€‚</p><p>ä¸€æ¬¾ä¼˜ç§€çš„é™æ€åˆ†æå™¨ï¼Œèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬æ›´åŠ å…¨é¢çš„å‘ç°äººå·¥æµ‹è¯•ä¸­çš„ç›²ç‚¹ï¼Œæé«˜æ£€æŸ¥é—®é¢˜çš„æ•ˆç‡ï¼Œå¯»æ‰¾æ½œåœ¨çš„å¯ç”¨æ€§é—®é¢˜ï¼Œæ¯”å¦‚ç©ºæŒ‡é’ˆè®¿é—®ã€èµ„æºå’Œå†…å­˜æ³„éœ²ç­‰ç­‰ã€‚</p><p>åŒæ—¶ï¼Œé™æ€åˆ†æå™¨è¿˜å¯ä»¥æ£€æŸ¥ä»£ç è§„èŒƒå’Œä»£ç å¯ç»´æŠ¤æ€§çš„é—®é¢˜ï¼Œæ ¹æ®ä¸€äº›æŒ‡æ ‡å°±èƒ½å¤Ÿæ‰¾å‡ºå“ªäº›ä»£ç éœ€è¦ä¼˜åŒ–å’Œé‡æ„ã€‚è¿™é‡Œæœ‰ä¸‰ä¸ªå¸¸ç”¨çš„å¤æ‚åº¦æŒ‡æ ‡ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬åº¦é‡æ˜¯å¦éœ€è¦ä¼˜åŒ–å’Œé‡æ„ä»£ç ã€‚</p><ul>
<li>
<p>åœˆå¤æ‚åº¦é«˜ã€‚åœˆå¤æ‚åº¦ï¼ŒæŒ‡çš„æ˜¯éå†ä¸€ä¸ªæ¨¡å—æ—¶çš„å¤æ‚åº¦ï¼Œè¿™ä¸ªå¤æ‚åº¦æ˜¯ç”±åˆ†æ”¯è¯­å¥æ¯”å¦‚ ifã€caseã€whileã€forï¼Œè¿˜æœ‰è¿ç®—ç¬¦æ¯”å¦‚ &amp;&amp;ã€||ï¼Œä»¥åŠå†³ç­–ç‚¹ï¼Œå…±åŒç¡®å®šçš„ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œåœˆå¤æ‚åº¦åœ¨ä»¥ 4 ä»¥å†…æ˜¯ä½å¤æ‚åº¦ï¼Œ5åˆ°7æ˜¯ä¸­å¤æ‚åº¦ï¼Œ8åˆ°10æ˜¯é«˜å¤æ‚åº¦ï¼Œ11ä»¥ä¸Šæ—¶å¤æ‚åº¦å°±éå¸¸é«˜äº†ï¼Œè¿™æ—¶éœ€è¦è€ƒè™‘é‡æ„ï¼Œä¸ç„¶å°±ä¼šå› ä¸ºæµ‹è¯•ç”¨ä¾‹çš„æ•°é‡è¿‡é«˜è€Œéš¾ä»¥ç»´æŠ¤ã€‚<br>
è€Œè¿™ä¸ªåœˆå¤æ‚åº¦çš„å€¼ï¼Œæ˜¯å¾ˆéš¾é€šè¿‡äººå·¥åˆ†æå‡ºæ¥çš„ã€‚è€Œé™æ€åˆ†æå™¨å°±å¯ä»¥æ ¹æ®åœˆå¤æ‚åº¦è§„åˆ™ï¼Œæ¥ç›‘æ§åœˆå¤æ‚åº¦ï¼ŒåŠæ—¶å‘ç°ä»£ç æ˜¯å¦è¿‡äºå¤æ‚ï¼Œå‘ç°é—®é¢˜ååŠæ—©è§£å†³ï¼Œä»¥å…é€ æˆä»£ç è¿‡äºå¤æ‚éš¾ä»¥ç»´æŠ¤ã€‚</p>
</li>
<li>
<p>NPath å¤æ‚åº¦é«˜ã€‚NPath åº¦é‡æ˜¯æŒ‡ä¸€ä¸ªæ–¹æ³•æ‰€æœ‰å¯èƒ½æ‰§è¡Œçš„è·¯å¾„æ•°é‡ã€‚ä¸€èˆ¬é«˜äº200å°±éœ€è¦è€ƒè™‘é™ä½å¤æ‚åº¦äº†ã€‚</p>
</li>
<li>
<p>NCSS åº¦é‡é«˜ã€‚NCSS åº¦é‡æ˜¯æŒ‡ä¸åŒ…å«æ³¨é‡Šçš„æºç è¡Œæ•°ï¼Œæ–¹æ³•å’Œç±»è¿‡å¤§ä¼šå¯¼è‡´ä»£ç ç»´æŠ¤æ—¶é˜…è¯»å›°éš¾ï¼Œå¤§çš„ NCSS å€¼è¡¨ç¤ºæ–¹æ³•æˆ–ç±»åšçš„äº‹æƒ…å¤ªå¤šï¼Œåº”è¯¥æ‹†åˆ†æˆ–é‡æ„ã€‚ä¸€èˆ¬æ–¹æ³•è¡Œæ•°ä¸è¿‡ç™¾ï¼Œç±»çš„è¡Œæ•°ä¸è¿‡åƒã€‚</p>
</li>
</ul><!-- [[[read_end]]] --><p>ä½†æ˜¯ï¼Œä½¿ç”¨é™æ€åˆ†ææŠ€æœ¯æ¥ä¿è¯å·¥ç¨‹è´¨é‡ï¼Œä¹Ÿå¹¶ä¸å°½å¦‚äººæ„ï¼Œè¿˜æœ‰å¦‚ä¸‹<strong>ä¸¤å¤§ç¼ºé™·</strong>ï¼š</p><ol>
<li>
<p>éœ€è¦è€—è´¹æ›´é•¿çš„æ—¶é—´ã€‚ç›¸æ¯”äºç¼–è¯‘è¿‡ç¨‹ï¼Œä½¿ç”¨é™æ€åˆ†ææŠ€æœ¯å‘ç°æ·±å±‚æ¬¡ç¨‹åºé”™è¯¯æ—¶ï¼Œä¼šå¯¹å½“å‰åˆ†æçš„æ–¹æ³•ã€å‚æ•°ã€å˜é‡å»å’Œæ•´ä¸ªå·¥ç¨‹å…³è”ä»£ç ä¸€èµ·åšåˆ†æã€‚æ‰€ä»¥ï¼Œéšç€å·¥ç¨‹ä»£ç é‡çš„å¢åŠ ï¼Œæ¯ä¸€æ­¥åˆ†ææ‰€ä¾èµ–çš„å½±å“é¢éƒ½ä¼šå¢å¤§ï¼Œæ‰€éœ€è€—æ—¶å°±æ›´é•¿ã€‚<br>
è™½ç„¶æˆ‘ä»¬åœ¨è®¾è®¡é™æ€åˆ†æå™¨æ—¶ï¼Œå°±å·²ç»å¯¹å…¶é€Ÿåº¦åšäº†å¾ˆå¤šä¼˜åŒ–ï¼Œä½†è¿˜æ˜¯è¾¾ä¸åˆ°ç¨‹åºç¼–è¯‘çš„é€Ÿåº¦ã€‚å› ä¸ºé™æ€åˆ†ææœ¬èº«å°±åŒ…å«äº†ç¼–è¯‘æœ€è€—æ—¶çš„ IO å’Œè¯­æ³•åˆ†æé˜¶æ®µï¼Œè€Œä¸”é™æ€åˆ†æçš„å†…å®¹å¤šäºç¼–è¯‘ï¼Œæ‰€ä»¥å†æ€ä¹ˆä¼˜åŒ–ï¼Œå³ä½¿æ˜¯æœ€å¥½çš„æƒ…å†µä¹Ÿä¼šæ¯”ç¼–è¯‘è¿‡ç¨‹æ¥å¾—è¦æ…¢ã€‚</p>
</li>
<li>
<p>é™æ€åˆ†æå™¨åªèƒ½æ£€æŸ¥å‡ºé‚£äº›ä¸“é—¨è®¾è®¡å¥½çš„ã€å¯æŸ¥æ‰¾çš„é”™è¯¯ã€‚å¯¹äºç‰¹å®šç±»å‹çš„é”™è¯¯åˆ†æï¼Œè¿˜éœ€è¦å¼€å‘è€…é è‡ªå·±çš„èƒ½åŠ›å†™ä¸€äº›æ’ä»¶å¹¶æ·»åŠ è¿›å»ã€‚</p>
</li>
</ol><p>å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬å·²ç»äº†è§£äº†é™æ€åˆ†æå™¨çš„ä¼˜ç¼ºç‚¹ï¼Œé‚£ä¹ˆé¢å¯¹ç¹å¤šçš„iOS çš„é™æ€ä»£ç æ£€æŸ¥å·¥å…·ï¼Œæˆ‘ä»¬åˆ°åº•åº”è¯¥é€‰æ‹©å“ªä¸€ä¸ªå‘¢ï¼Ÿ</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘é€‰æ‹©äº†3æ¬¾ä¸»æµçš„é™æ€åˆ†æå·¥å…·OCLintã€Clangé™æ€åˆ†æå™¨ã€Inferï¼Œå’Œä½ è¯´è¯´å¦‚ä½•é€‰æ‹©çš„é—®é¢˜ã€‚</p><h2>OCLint</h2><p>OCLint æ˜¯åŸºäº Clang Tooling å¼€å‘çš„é™æ€åˆ†æå·¥å…·ï¼Œä¸»è¦ç”¨æ¥å‘ç°ç¼–è¯‘å™¨æ£€æŸ¥ä¸åˆ°çš„é‚£äº›æ½œåœ¨çš„å…³é”®æŠ€æœ¯é—®é¢˜ã€‚2017å¹´9æœˆä»½æ–°å‘å¸ƒçš„ OCLint 0.13ç‰ˆæœ¬ä¸­ï¼ŒåŒ…å«äº†71æ¡è§„åˆ™ã€‚</p><p>è¿™äº›è§„åˆ™å·²ç»åŸºæœ¬è¦†ç›–äº†å…·æœ‰é€šç”¨æ€§çš„è§„åˆ™ï¼Œä¸»è¦åŒ…æ‹¬è¯­æ³•ä¸Šçš„åŸºç¡€è§„åˆ™ã€Cocoa åº“ç›¸å…³è§„åˆ™ã€ä¸€äº›çº¦å®šä¿—æˆçš„è§„åˆ™ã€å„ç§ç©ºè¯­å¥æ£€æŸ¥ã€æ˜¯å¦æŒ‰æ–°è¯­æ³•æ”¹å†™çš„æ£€æŸ¥ã€å‘½åä¸Šé•¿å˜é‡åçŸ­å˜é‡åæ£€æŸ¥ã€æ— ç”¨çš„è¯­å¥å˜é‡å’Œå‚æ•°çš„æ£€æŸ¥ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜åŒ…æ‹¬äº†å’Œä»£ç é‡å¤§å°æ˜¯å¦åˆç†ç›¸å…³çš„ä¸€äº›è§„åˆ™ï¼Œæ¯”å¦‚è¿‡å¤§çš„ç±»ã€ç±»é‡Œæ–¹æ³•æ˜¯å¦å¤ªå¤šã€å‚æ•°æ˜¯å¦è¿‡å¤šã€Block åµŒå¥—æ˜¯å¦å¤ªæ·±ã€æ–¹æ³•é‡Œä»£ç æ˜¯å¦è¿‡å¤šã€åœˆå¤æ‚åº¦çš„æ£€æŸ¥ç­‰ã€‚</p><p>ä½ å¯ä»¥åœ¨<a href="http://docs.oclint.org/en/stable/rules/index.html">å®˜æ–¹è§„åˆ™ç´¢å¼•</a>ä¸­ï¼ŒæŸ¥çœ‹å®Œæ•´çš„è§„åˆ™è¯´æ˜ã€‚</p><p>è¿™äº›è§„åˆ™å¯ä»¥åœ¨è¿è¡Œæ—¶è¢«åŠ¨æ€åœ°åŠ è½½åˆ°ç³»ç»Ÿä¸­ï¼Œè§„åˆ™é…ç½®çµæ´»ã€å¯æ‰©å±•æ€§å¥½ã€æ–¹ä¾¿è‡ªå®šä¹‰ã€‚</p><p>è¯´åˆ°OCLintçš„å®‰è£…æ–¹å¼ï¼Œæˆ‘å»ºè®®ä½ ä½¿ç”¨ Homebrewçš„æ–¹å¼ã€‚Homebrew æ˜¯ macOS ä¸‹ä¸“é—¨ç”¨æ¥è¿›è¡Œè½¯ä»¶åŒ…ç®¡ç†çš„ä¸€ä¸ªå·¥å…·ï¼Œä½¿ç”¨èµ·æ¥å¾ˆæ–¹ä¾¿ï¼Œè®©ä½ æ— éœ€å…³å¿ƒä¸€äº›ä¾èµ–å’Œè·¯å¾„é…ç½®ã€‚</p><p>ä½¿ç”¨ Homebrewçš„æ–¹å¼å®‰è£…æ—¶ï¼Œæˆ‘ä»¬éœ€è¦é¦–å…ˆè®¾ç½®brewçš„ç¬¬ä¸‰æ–¹ä»“åº“ï¼Œç„¶åå®‰è£…OCLintã€‚å®‰è£…æ–¹æ³•æ˜¯åœ¨ç»ˆç«¯è¾“å…¥ï¼š</p><pre><code>brew tap oclint/formulae
brew install oclint
</code></pre><p>å®‰è£…å®Œæˆï¼Œå…ˆç¼–å†™ä¸€ä¸ª Hello world ä»£ç æ¥æµ‹è¯•ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ª Hello.m æ–‡ä»¶æ¥ç¼–å†™ä»£ç ï¼Œä½¿ç”¨ OCLint æ¥æ£€æŸ¥ä¸‹å‰é¢ç¼–å†™çš„ Hello.m ï¼Œåœ¨ç»ˆç«¯è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š</p><pre><code>oclint Hello.m
</code></pre><p>ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼Œå°†æ£€æŸ¥ç»“æœç”Ÿæˆä¸ºä¸€ä¸ªhtmlæ ¼å¼çš„æŠ¥å‘Šï¼š</p><pre><code>oclint -report-type html -o report.html Hello.m
</code></pre><h2>Clang é™æ€åˆ†æå™¨</h2><p>Clang é™æ€åˆ†æå™¨ï¼ˆClang Static Analyzerï¼‰æ˜¯ä¸€ä¸ªç”¨ C++ å¼€å‘çš„ï¼Œç”¨æ¥åˆ†æ Cã€C++ å’Œ Objective-C çš„å¼€æºå·¥å…·ï¼Œæ˜¯ Clang é¡¹ç›®çš„ä¸€éƒ¨åˆ†ï¼Œæ„å»ºåœ¨ Clang å’Œ LLVM ä¹‹ä¸Šã€‚Clang é™æ€åˆ†æå™¨çš„åˆ†æå¼•æ“ç”¨çš„å°±æ˜¯ Clang çš„åº“ã€‚</p><p>Clang é™æ€åˆ†æå™¨ä¸“é—¨ä¸ºé€Ÿåº¦åšè¿‡ä¼˜åŒ–ï¼Œå¯ä»¥åœ¨ä¿è¯æŸ¥å‡ºé”™è¯¯çš„å‰æä¸‹ï¼Œä½¿ç”¨æ›´èªæ˜çš„ç®—æ³•å‡å°‘æ£€æŸ¥çš„å·¥ä½œé‡ã€‚</p><p>ä½ å¯ä»¥ç‚¹å‡»<a href="http://clang-analyzer.llvm.org/release_notes.html">è¿™é‡Œä¸‹è½½</a>Clangé™æ€åˆ†æå™¨ï¼Œç„¶åè§£å‹å°±å¯ä»¥äº†ï¼Œä¸éœ€è¦æ”¾åˆ°ç‰¹å®šç›®å½•ä¸‹ã€‚è€Œå¸è½½å®ƒçš„è¯ï¼Œåˆ é™¤è¿™ä¸ªè§£å‹åçš„ç›®å½•å³å¯ã€‚</p><p><strong>åœ¨Clangé™æ€åˆ†æå™¨ä¸­ï¼Œå¸¸ç”¨çš„å°±æ˜¯ scan-build å’Œ scan-viewè¿™ä¸¤ä¸ªå·¥å…·ã€‚</strong></p><p>scan-build å’Œ scan-view æ‰€åœ¨çš„ç›®å½•è·¯å¾„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="https://static001.geekbang.org/resource/image/2e/a1/2e6f1b41292b3744ddc3e0dbb960a1a1.png" alt=""></p><center><span class="reference">å›¾1 scan-build å’Œ scan-view æ‰€åœ¨çš„ç›®å½•è·¯å¾„</span></center><p>scan-build æ˜¯ç”¨æ¥è¿è¡Œåˆ†æå™¨çš„å‘½ä»¤è¡Œå·¥å…·ï¼›scan-view åŒ…å«äº† scan-build å·¥å…·ï¼Œä¼šåœ¨ scan-build æ‰§è¡Œå®Œåå°†ç»“æœå¯è§†åŒ–ã€‚</p><p>scan-build çš„åŸç†æ˜¯ï¼Œå°†ç¼–è¯‘å™¨æ„å»ºæ”¹æˆå¦ä¸€ä¸ªâ€œå‡çš„â€ç¼–è¯‘å™¨æ¥æ„å»ºï¼Œè¿™ä¸ªâ€œå‡çš„â€ç¼–è¯‘å™¨ä¼šæ‰§è¡Œ Clang æ¥ç¼–è¯‘ï¼Œç„¶åæ‰§è¡Œé™æ€åˆ†æå™¨åˆ†æä½ çš„ä»£ç ã€‚</p><p>scan-buildçš„ä½¿ç”¨æ–¹æ³•ï¼Œä¹Ÿå¾ˆç®€å•ï¼Œä½ åªéœ€è¦åˆ°é¡¹ç›®ç›®å½•ä¸‹ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å³å¯ï¼š</p><pre><code>\yourpath\scan-build -k -V make
</code></pre><p>å…³äºscan-buildçš„æ›´å¤šå‚æ•°å’Œä½¿ç”¨è¯´æ˜ï¼Œä½ å¯ä»¥ç‚¹å‡»<a href="http://clang-analyzer.llvm.org/scan-build">è¿™ä¸ªé“¾æ¥</a>æŸ¥çœ‹ã€‚</p><p><strong>Clang é™æ€åˆ†æå™¨æ˜¯ç”±åˆ†æå¼•æ“(analyzer core)å’Œ checkers ç»„æˆçš„ã€‚</strong>æ‰€æœ‰çš„ checker éƒ½æ˜¯åŸºäºåº•å±‚åˆ†æå¼•æ“ä¹‹ä¸Šçš„ã€‚é€šè¿‡åˆ†æå¼•æ“æä¾›çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™æ–°çš„ checkerã€‚</p><p>checker æ¶æ„èƒ½å¤Ÿæ–¹ä¾¿ç”¨æˆ·æ‰©å±•ä»£ç æ£€æŸ¥çš„è§„åˆ™ï¼Œæˆ–è€…é€šè¿‡è‡ªå®šä¹‰æ¥æ‰©å±•bug ç±»å‹ã€‚å¦‚æœä½ æƒ³ç¼–å†™è‡ªå·±çš„ checkerï¼Œå¯ä»¥åœ¨ Clang é¡¹ç›®çš„ lib/StaticAnalyzer/Checkers ç›®å½•ä¸‹æ‰¾åˆ°ç¤ºä¾‹å‚è€ƒï¼Œæ¯”å¦‚ ObjCUnusedIVarsChecker.cpp å°±æ˜¯ç”¨æ¥æ£€æŸ¥æ˜¯å¦æœ‰å®šä¹‰äº†ï¼Œä½†æ˜¯ä»æœªä½¿ç”¨è¿‡çš„å˜é‡ã€‚</p><p>å½“ç„¶ï¼Œå¦‚æœä¸ºäº†ç¼–å†™è‡ªå®šä¹‰çš„ checker ä¸€å¼€å§‹å°±åŸ‹å¤´è¿›å»çœ‹é‚£äº›ç¤ºä¾‹ä»£ç æ˜¯å¾ˆéš¾çœ‹æ‡‚çš„ï¼Œä½ ç”šè‡³éƒ½ä¸èƒ½çŸ¥é“ç¼–å†™ checker æ—¶æœ‰å“ªäº›æ–¹æ³•å¯ä»¥ä¸ºæˆ‘æ‰€ç”¨ã€‚æ‰€ä»¥ï¼Œä½ éœ€è¦å…ˆäº†è§£ Clang é™æ€åˆ†æå™¨æä¾›äº†å“ªäº›åŠŸèƒ½æ¥å£ï¼Œç„¶åå†å‚è€ƒå®˜æ–¹çš„å¤§é‡å®ä¾‹ï¼Œå»äº†è§£æ€ä¹ˆä½¿ç”¨è¿™äº›åŠŸèƒ½æ¥å£ï¼Œåœ¨è¿™ä¹‹åå†åŠ¨æ‰‹å¼€å‘æ‰ä¼šäº‹åŠåŠŸå€ã€‚</p><p><strong>æ¥ä¸‹æ¥ï¼Œæˆ‘å°±è·Ÿä½ èŠèŠå¼€å‘ checker æ—¶éœ€è¦äº†è§£çš„ Clang é™æ€åˆ†æå™¨æä¾›çš„ä¸€äº›åŠŸèƒ½æ¥å£ã€‚</strong></p><p>checker çš„å®˜æ–¹ç¤ºä¾‹ä»£ç é‡Œæœ‰ä¸€ä¸ªéå¸¸å®ç”¨çš„ï¼Œä¹Ÿå°±æ˜¯å†…å­˜æ³„éœ²æ£€æŸ¥ç¤ºä¾‹ MallocCheckerï¼Œä½ å¯ä»¥ç‚¹å‡»<a href="http://clang.llvm.org/doxygen/MallocChecker_8cpp_source.html">è¿™ä¸ªé“¾æ¥</a>æŸ¥çœ‹ä»£ç ã€‚</p><p>åœ¨è¿™æ®µä»£ç å¼€å¤´ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¼•å…¥äº† clang/AST/ å’Œ clang/StaticAnalyzer/Core/PathSensitive/ ç›®å½•ä¸‹çš„å¤´æ–‡ä»¶ã€‚è¿™ä¸¤ä¸ªç›®å½•ä¸‹å®šä¹‰çš„æ¥å£åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œå¤§éƒ¨åˆ† checker éƒ½æ˜¯åŸºäºæ­¤å¼€å‘çš„ã€‚</p><p>clang/AST/ ç›®å½•ä¸­ï¼Œæœ‰è¯­æ³•æ ‘éå† RecursiveASTVisitorï¼Œè¿˜æœ‰è¯­æ³•æ ‘å±‚çº§éå† StmtVisitorï¼Œéå†è¿‡ç¨‹ä¸­ï¼Œä¼šæœ‰å¾ˆå¤šå›è°ƒå‡½æ•°å¯ä»¥è®© Checker è¿›è¡Œæ£€æŸ¥ã€‚æ¯”å¦‚ï¼Œæ–¹æ³•è°ƒç”¨å‰çš„å›è°ƒ checkPreCallã€æ–¹æ³•è°ƒç”¨åçš„å›è°ƒ checkPostCallï¼ŒCFGï¼ˆControl Flow Graph æ§åˆ¶æµç¨‹å›¾ï¼‰ åˆ†æ”¯è°ƒç”¨æ—¶çš„å›è°ƒ checkBranchConditionã€CFG è·¯å¾„åˆ†æç»“æŸæ—¶çš„å›è°ƒ checkEndAnalysis ç­‰ç­‰ã€‚æœ‰äº†è¿™äº›å›è°ƒï¼Œæˆ‘ä»¬å°±å¯ä»¥ä»è¯­æ³•æ ‘å±‚çº§å’Œè·¯å¾„ä¸Šå»åšé™æ€æ£€æŸ¥çš„å·¥ä½œäº†ã€‚</p><p>clang/StaticAnalyzer/Core/PathSensitive/ ç›®å½•é‡Œï¼Œå¯ä»¥è®© checker æ£€æŸ¥å˜é‡å’Œå€¼ä¸Šçš„æ›´å¤šå˜åŒ–ã€‚ä»ç›®å½• PathSensitiveï¼Œæˆ‘ä»¬ä¹Ÿèƒ½çœ‹å‡ºè¿™äº›åŠŸèƒ½å«åšè·¯å¾„æ•æ„Ÿåˆ†æï¼ˆPath-Sensitive Analysesï¼‰ï¼Œæ˜¯ä»æ¡ä»¶åˆ†æ”¯ä¸Šå»è·Ÿè¸ªï¼Œè€Œè¿™ç§è·Ÿè¸ªæ˜¯è·Ÿè¸ªæ¯ä¸€ç§åˆ†æ”¯å»åšåˆ†æã€‚</p><p>ä½†æ˜¯ï¼Œè¦å»è¿½è¸ªæ‰€æœ‰è·¯å¾„çš„è¯ï¼Œå°±å¯èƒ½ä¼šç¢°åˆ°å¾ˆå¤šå¤æ‚æƒ…å†µï¼Œç‰¹åˆ«æ˜¯æ‰§è¡Œå¾ªç¯åï¼Œé—®é¢˜ä¼šæ›´å¤æ‚ï¼Œéœ€è¦é€šè¿‡è·¯å¾„åˆå¹¶æ¥ç®€åŒ–å¤æ‚çš„æƒ…å†µï¼Œä½†æ˜¯ç®€åŒ–åå¯èƒ½å°±ä¸ä¼šåˆ†æå‡ºæ‰€æœ‰çš„è·¯å¾„ã€‚æ‰€ä»¥ï¼Œè€ƒè™‘åˆ°åˆç†æ€§é—®é¢˜çš„è¯ï¼Œæˆ‘ä»¬è¿˜æ˜¯éœ€è¦åšäº›å–èˆï¼Œè®©å…¶æ›´åŠ åˆç†ï¼Œè¾¾åˆ°å°½é‡è¾“å‡ºæ›´å¤šä¿¡æ¯çš„ç›®çš„ï¼Œæ¥æ–¹ä¾¿æˆ‘ä»¬å¼€å‘ checkerï¼Œæ£€æŸ¥å‡ºæ›´å¤šçš„ bug ã€‚</p><p>è·¯å¾„æ•æ„Ÿåˆ†æä¹ŸåŒ…å«äº†æ¨¡æ‹Ÿå†…å­˜ç®¡ç†ï¼ŒSymbolManager ç¬¦å·ç®¡ç†é‡Œç»´æŠ¤ç€å˜é‡çš„ç”Ÿå‘½å‘¨æœŸåˆ†æã€‚æƒ³è¦äº†è§£å…·ä½“å®ç°çš„è¯ï¼Œä½ å¯ä»¥ç‚¹å‡»<a href="http://clang.llvm.org/doxygen/SymbolManager_8h_source.html">è¿™ä¸ªé“¾æ¥</a>å‚çœ‹æºç å®ç°ã€‚</p><p>è¿™ä¸ªå†…å­˜æ³„éœ²æ£€æŸ¥ç¤ºä¾‹ MallocChecker é‡Œï¼Œè¿ç”¨äº† Clang é™æ€åˆ†æå™¨æä¾›çš„è¯­æ³•æ ‘å±‚çº§èŠ‚ç‚¹æ£€æŸ¥ã€å˜é‡å€¼è·¯å¾„è¿½è¸ªä»¥åŠå†…å­˜ç®¡ç†åˆ†æåŠŸèƒ½æ¥å£ï¼Œå¯¹æˆ‘ä»¬ç¼–å†™è‡ªå®šä¹‰çš„ checker æ˜¯ä¸€ä¸ªå¾ˆå…¨é¢ã€å…¸å‹çš„ç¤ºä¾‹ã€‚</p><p>è¿½å…¶æ ¹æœ¬ï¼Œç¼–å†™è‡ªå·±çš„ checker ï¼Œå…¶æ ¸å¿ƒè¿˜æ˜¯è¦æ›´å¤šåœ°æŒæ¡ Clang é™æ€åˆ†æå™¨çš„å†…åœ¨åŸç†ã€‚å¾ˆæ—©ä¹‹å‰ï¼Œè‹¹æœå…¬å¸å°±åœ¨ <a href="https://www.youtube.com/watch?v=4lUJTY373og&amp;t=102s">LLVM Developers Meeting</a> ä¸Šï¼Œå’Œæˆ‘ä»¬åˆ†äº«è¿‡æ€æ ·é€šè¿‡ Clang é™æ€åˆ†æå™¨å»æ‰¾ bugã€‚ä½ å¯ä»¥ç‚¹å‡»<a href="http://llvm.org/devmtg/2008-08/Kremenek_StaticAnalyzer.pdf">è¿™ä¸ªé“¾æ¥</a>ï¼ŒæŸ¥çœ‹ç›¸åº”çš„PPTï¼Œè¿™å¯¹æˆ‘ä»¬äº†è§£ Clang é™æ€åˆ†æå™¨çš„åŸç†æœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚</p><p>ä¸è¿‡ï¼Œchecker æ¶æ„ä¹Ÿæœ‰ä¸å®Œç¾çš„åœ°æ–¹ï¼Œæ¯”å¦‚æ¯æ‰§è¡Œå®Œä¸€æ¡è¯­å¥ï¼Œåˆ†æå¼•æ“éœ€è¦å›å»éå†æ‰€æœ‰ checker ä¸­çš„å›è°ƒå‡½æ•°ã€‚è¿™æ ·çš„è¯ï¼Œéšç€ checker æ•°é‡çš„å¢åŠ ï¼Œæ•´ä½“æ£€æŸ¥çš„é€Ÿåº¦ä¹Ÿä¼šå˜å¾—è¶Šæ¥è¶Šæ…¢ã€‚</p><p>å¦‚æœä½ æƒ³åˆ—å‡ºå½“å‰ Clang ç‰ˆæœ¬ä¸‹çš„æ‰€æœ‰ checkerï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p><pre><code>clang â€”analyze -Xclang -analyzer-checker-help
</code></pre><p>ä¸‹é¢æ˜¾ç¤ºçš„å°±æ˜¯å¸¸ç”¨çš„ checkerï¼š</p><pre><code>debug.ConfigDumper              é…ç½®è¡¨
debug.DumpCFG                   æ˜¾ç¤ºæ§åˆ¶æµç¨‹å›¾
debug.DumpCallGraph             æ˜¾ç¤ºè°ƒç”¨å›¾
debug.DumpCalls                 æ‰“å°å¼•æ“éå†çš„è°ƒç”¨
debug.DumpDominators            æ‰“å°æ§åˆ¶æµç¨‹å›¾çš„ dominance tree
debug.DumpLiveVars              æ‰“å°å®æ—¶å˜é‡åˆ†æç»“æœ
debug.DumpTraversal             æ‰“å°å¼•æ“éå†çš„åˆ†æ”¯æ¡ä»¶
debug.ExprInspection            æ£€æŸ¥åˆ†æå™¨å¯¹è¡¨è¾¾å¼çš„ç†è§£
debug.Stats                     ä½¿ç”¨åˆ†æå™¨ç»Ÿè®¡ä¿¡æ¯å‘å‡ºè­¦å‘Š
debug.TaintTest                 æ ‡è®°æ±¡æŸ“çš„ç¬¦å·
debug.ViewCFG                   æŸ¥çœ‹æ§åˆ¶æµç¨‹å›¾
debug.ViewCallGraph             ä½¿ç”¨ GraphViz æŸ¥çœ‹è°ƒç”¨å›¾
debug.ViewExplodedGraph         ä½¿ç”¨ GraphViz æŸ¥çœ‹åˆ†è§£å›¾
</code></pre><p>æ¥ä¸‹æ¥ï¼Œ<strong>æˆ‘å’Œä½ ä¸¾ä¸ªä¾‹å­æ¥è¯´æ˜å¦‚ä½•ä½¿ç”¨ checker</strong> ã€‚æˆ‘ä»¬å…ˆå†™ä¸€æ®µä»£ç ï¼š</p><pre><code>int main()
{
	int a;
	int b = 10;
	a = b;
	return a;
}
</code></pre><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸‹é¢è¿™æ¡å‘½ä»¤ï¼Œè°ƒç”¨ DumpCFG è¿™ä¸ª checker å¯¹ä¸Šé¢ä»£ç è¿›è¡Œåˆ†æï¼š</p><pre><code>clang -cc1 -analyze -analyzer-checker=debug.DumpCFG
</code></pre><p>æ˜¾ç¤ºç»“æœå¦‚ä¸‹ï¼š</p><pre><code>int main()
 [B2 (ENTRY)]
   Succs (1): B1

 [B1]
   1: int a;
   2: 10
   3: int b = 10;
   4: b
   5: [B1.4] (ImplicitCastExpr, LValueToRValue, int)
   6: a
   7: [B1.6] = [B1.5]
   8: a
   9: [B1.8] (ImplicitCastExpr, LValueToRValue, int)
  10: return [B1.9];
   Preds (1): B2
   Succs (1): B0

 [B0 (EXIT)]
   Preds (1): B
</code></pre><p>å¯ä»¥çœ‹å‡ºï¼Œä»£ç çš„æ§åˆ¶æµç¨‹å›¾è¢«æ‰“å°äº†å‡ºæ¥ã€‚æ§åˆ¶æµç¨‹å›¾ä¼šæŠŠç¨‹åºæ‹†å¾—æ›´ç»†ï¼Œå¯ä»¥æŠŠæ‰§è¡Œè¿‡ç¨‹è¡¨ç°å¾—æ›´ç›´è§‚ï¼Œæœ‰åŠ©äºæˆ‘ä»¬åšé™æ€åˆ†æã€‚</p><h2>Infer</h2><p>Inferæ˜¯Facebook å¼€æºçš„ã€ä½¿ç”¨ OCaml è¯­è¨€ç¼–å†™çš„é™æ€åˆ†æå·¥å…·ï¼Œå¯ä»¥å¯¹ Cã€Java å’Œ Objective-C ä»£ç è¿›è¡Œé™æ€åˆ†æï¼Œå¯ä»¥æ£€æŸ¥å‡ºç©ºæŒ‡é’ˆè®¿é—®ã€èµ„æºæ³„éœ²ä»¥åŠå†…å­˜æ³„éœ²ã€‚</p><p>Infer çš„å®‰è£…ï¼Œæœ‰ä»æºç å®‰è£…å’Œç›´æ¥å®‰è£… binary releases ä¸¤ç§æ–¹å¼ã€‚</p><p>å¦‚æœæƒ³åœ¨ macOS ä¸Šç¼–è¯‘æºç è¿›è¡Œå®‰è£…çš„è¯ï¼Œä½ éœ€è¦é¢„å…ˆå®‰è£…ä¸€äº›å·¥å…·ï¼Œè¿™äº›å·¥å…·åœ¨åé¢ç¼–è¯‘æ—¶ä¼šç”¨åˆ°ï¼Œå‘½ä»¤è¡ŒæŒ‡ä»¤å¦‚ä¸‹ï¼š</p><pre><code>brew install autoconf automake cmake opam pkg-config sqlite gmp mpfr
brew cask install java
</code></pre><p>ä½ å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ‰€ç¤ºçš„å‘½ä»¤ï¼Œé€šè¿‡ç¼–è¯‘æºç æ¥å®‰è£…ï¼š</p><pre><code># Checkout Infer
git clone https://github.com/facebook/infer.git
cd infer
# Compile Infer
./build-infer.sh clang
# install Infer system-wide...
sudo make install
# ...or, alternatively, install Infer into your PATH
export PATH=`pwd`/infer/bin:$PATH
</code></pre><p>ä½¿ç”¨æºç å®‰è£…æ‰€éœ€çš„æ—¶é—´ä¼šæ¯”è¾ƒé•¿ï¼Œå› ä¸ºä¼šç¼–è¯‘ä¸€ä¸ªç‰¹å®šçš„ Clang ç‰ˆæœ¬ï¼Œè€Œ Clang æ˜¯ä¸ªåºå¤§çš„å·¥ç¨‹ï¼Œç‰¹åˆ«æ˜¯ç¬¬ä¸€æ¬¡ç¼–è¯‘çš„è€—æ—¶ä¼šæ¯”è¾ƒé•¿ã€‚æˆ‘åœ¨ç¬¬ä¸€æ¬¡ç¼–è¯‘æ—¶ï¼Œå°±å¤§æ¦‚èŠ±äº†ä¸€ä¸ªå¤šå°æ—¶ã€‚æ‰€ä»¥ï¼Œç›´æ¥å®‰è£… binary releases ä¼šæ›´å¿«äº›ï¼Œåœ¨ç»ˆç«¯è¾“å…¥ï¼š</p><pre><code>brew install infer
</code></pre><p>Inferå°±å®‰è£…å¥½äº†ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘é€šè¿‡ä¸€ä¸ªç¤ºä¾‹å’Œä½ åˆ†äº«ä¸‹<strong>å¦‚ä½•ä½¿ç”¨ Infer</strong>ã€‚æˆ‘ä»¬å¯ä»¥å…ˆå†™ä¸€æ®µObjective-C ä»£ç ï¼š</p><pre><code>#import &lt;Foundation/Foundation.h&gt;

@interface Hello: NSObject
@property NSString* s;
@end

@implementation Hello
NSString* m() {
    Hello* hello = nil;
    return hello-&gt;_s;
}
@en
</code></pre><p>åœ¨ç»ˆç«¯è¾“å…¥ï¼š</p><pre><code>infer -- clang -c Hello.m
</code></pre><p>ç»“æœå¦‚ä¸‹ï¼š</p><pre><code>Capturing in make/cc mode...
Found 1 source file to analyze in /Users/ming/Downloads/jikeshijian/infer-out
Starting analysis...

legend:
  &quot;F&quot; analyzing a file
  &quot;.&quot; analyzing a procedure

F.
*Found 5 issues*

hello.m:10: error: NULL_DEREFERENCE
  pointer `hello` last assigned on line 9 could be null and is dereferenced at line 10, column 12.
  8.   NSString* m() {
  9.       Hello* hello = nil;
  10. *&gt;*    return hello-&gt;_s;
  11.   }

hello.m:10: warning: DIRECT_ATOMIC_PROPERTY_ACCESS
  Direct access to ivar `_s` of an atomic property at line 10, column 12. Accessing an ivar of an atomic property makes the property nonatomic.
  8.   NSString* m() {
  9.       Hello* hello = nil;
  10. *&gt;*    return hello-&gt;_s;
  11.   }

hello.m:4: warning: ASSIGN_POINTER_WARNING
  Property `s` is a pointer type marked with the `assign` attribute at line 4, column 1. Use a different attribute like `strong` or `weak`.
  2.   
  3.   @interface Hello: NSObject
  4. *&gt;*@property NSString* s;
  5.   @end
  6.   

hello.m:10: warning: DIRECT_ATOMIC_PROPERTY_ACCESS
  Direct access to ivar `_s` of an atomic property at line 10, column 12. Accessing an ivar of an atomic property makes the property nonatomic.
  8.   NSString* m() {
  9.       Hello* hello = nil;
  10. *&gt;*    return hello-&gt;_s;
  11.   }

hello.m:4: warning: ASSIGN_POINTER_WARNING
  Property `s` is a pointer type marked with the `assign` attribute at line 4, column 1. Use a different attribute like `strong` or `weak`.
  2.   
  3.   @interface Hello: NSObject
  4. *&gt;*@property NSString* s;
  5.   @end
  6.   


*Summary of the reports*

  DIRECT_ATOMIC_PROPERTY_ACCESS: 2
         ASSIGN_POINTER_WARNING: 2
               NULL_DEREF
</code></pre><p>å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬å‰é¢çš„ hello.m ä»£ç é‡Œä¸€å…±æœ‰äº”ä¸ªé—®é¢˜ï¼Œå…¶ä¸­åŒ…æ‹¬ä¸€ä¸ªé”™è¯¯ã€å››ä¸ªè­¦å‘Šã€‚ç¬¬ä¸€ä¸ªé”™è¯¯å¦‚ä¸‹ï¼š</p><pre><code>hello.m:10: error: NULL_DEREFERENCE
  pointer `hello` last assigned on line 9 could be null and is dereferenced at line 10, column 12.
  8.   NSString* m() {
  9.       Hello* hello = nil;
  10. *&gt;*    return hello-&gt;_s;
  11.   }
</code></pre><p>è¿™ä¸ªé”™è¯¯çš„æ„æ€æ˜¯ï¼Œ hello å¯èƒ½ä¸ºç©ºï¼Œéœ€è¦å»æ‰ç¬¬10è¡Œ12åˆ—çš„å¼•ç”¨ã€‚æˆ‘æŠŠè¿™è¡Œä»£ç åšä¸‹ä¿®æ”¹ï¼Œå»æ‰å¼•ç”¨ï¼š</p><pre><code>return hello.s;
</code></pre><p>å†åˆ°ç»ˆç«¯è¿è¡Œä¸€é infer å‘½ä»¤ï¼š</p><pre><code>infer -- clang -c Hello.m
</code></pre><p>ç„¶åï¼Œå°±å‘ç°åªå‰©ä¸‹äº†ä¸€ä¸ªè­¦å‘Š:</p><pre><code>hello.m:4: warning: ASSIGN_POINTER_WARNING
  Property `s` is a pointer type marked with the `assign` attribute at line 4, column 1. Use a different attribute like `strong` or `weak`.
  2.   
  3.   @interface Hello: NSObject
  4. *&gt;*@property NSString* s;
  5.   @end
  6.  
</code></pre><p>è¿™ä¸ªè­¦å‘Šçš„æ„æ€æ˜¯è¯´ï¼Œå±æ€§ s æ˜¯æŒ‡é’ˆç±»å‹ï¼Œéœ€è¦ä½¿ç”¨ strong æˆ– weak å±æ€§ã€‚è¿™æ—¶ï¼Œæˆ‘å°†s çš„å±æ€§ä¿®æ”¹ä¸º strongï¼š</p><pre><code>@property(nonatomic, strong) NSString* s;
</code></pre><p>è¿è¡Œ Infer åï¼Œå‘ç°æ²¡æœ‰é—®é¢˜äº†ã€‚</p><pre><code>Capturing in make/cc mode...
Found 1 source file to analyze in /Users/ming/Downloads/jikeshijian/infer-out
Starting analysis...

legend:
  &quot;F&quot; analyzing a file
  &quot;.&quot; analyzing a procedure

F.
*No issues found
</code></pre><p>æ¥ä¸‹æ¥ï¼Œä¸ºäº†å¸®åŠ©ä½ ç†è§£Inferçš„å·¥ä½œåŸç†ï¼Œæˆ‘æ¥æ¢³ç†ä¸‹<strong>Infer å·¥ä½œçš„æµç¨‹</strong>ï¼š</p><ul>
<li>
<p>ç¬¬ä¸€ä¸ªé˜¶æ®µæ˜¯è½¬åŒ–é˜¶æ®µï¼Œå°†æºä»£ç è½¬æˆ Infer å†…éƒ¨çš„ä¸­é—´è¯­è¨€ã€‚ç±» Cè¯­è¨€ä½¿ç”¨ Clang è¿›è¡Œç¼–è¯‘ï¼ŒJavaè¯­è¨€ä½¿ç”¨ javac è¿›è¡Œç¼–è¯‘ï¼Œç¼–è¯‘çš„åŒæ—¶è½¬æˆä¸­é—´è¯­è¨€ï¼Œè¾“å‡ºåˆ° infer-out ç›®å½•ã€‚</p>
</li>
<li>
<p>ç¬¬äºŒä¸ªé˜¶æ®µæ˜¯åˆ†æé˜¶æ®µï¼Œåˆ†æinfer-out ç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚åˆ†ææ¯ä¸ªæ–¹æ³•ï¼Œå¦‚æœå‡ºç°é”™è¯¯çš„è¯ä¼šç»§ç»­åˆ†æä¸‹ä¸€ä¸ªæ–¹æ³•ï¼Œä¸ä¼šè¢«ä¸­æ–­ï¼Œä½†æ˜¯ä¼šè®°å½•ä¸‹å‡ºé”™çš„ä½ç½®ï¼Œæœ€åå°†æ‰€æœ‰å‡ºé”™çš„åœ°æ–¹è¿›è¡Œæ±‡æ€»è¾“å‡ºã€‚<br>
é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯æ¬¡è¿è¡Œinferå‘½ä»¤éƒ½ä¼šåˆ é™¤ä¹‹å‰çš„ infer-out æ–‡ä»¶å¤¹ã€‚ä½ å¯ä»¥é€šè¿‡ --incremental å‚æ•°ä½¿ç”¨å¢é‡æ¨¡å¼ã€‚å¢é‡æ¨¡å¼ä¸‹ï¼Œè¿è¡Œinferå‘½ä»¤ä¸ä¼šåˆ é™¤ infer-out æ–‡ä»¶å¤¹ï¼Œä½†æ˜¯ä¼šåˆ©ç”¨è¿™ä¸ªæ–‡ä»¶å¤¹è¿›è¡Œ diffï¼Œå‡å°‘åˆ†æé‡ã€‚<br>
ä¸€èˆ¬è¿›è¡Œå…¨æ–°ä¸€è½®åˆ†ææ—¶ç›´æ¥ä½¿ç”¨é»˜è®¤çš„éå¢é‡æ¨¡å¼ï¼Œè€Œå¯¹äºåªæƒ³åˆ†æä¿®æ”¹éƒ¨åˆ†æƒ…å†µæ—¶ï¼Œå°±ä½¿ç”¨å¢é‡æ¨¡å¼ã€‚</p>
</li>
</ul><p>Infer æ£€æŸ¥çš„ç»“æœï¼Œåœ¨ infer-out ç›®å½•ä¸‹ï¼Œæ˜¯ JSON æ ¼å¼çš„ï¼Œåå­—å«åš report.json ã€‚ç”ŸæˆJSONæ ¼å¼çš„ç»“æœï¼Œé€šç”¨æ€§ä¼šæ›´å¼ºï¼Œé›†æˆåˆ°å…¶ä»–ç³»ç»Ÿæ—¶ä¼šæ›´æ–¹ä¾¿ã€‚</p><p>Infer çš„å·¥ä½œæµç¨‹å›¾å¦‚ä¸‹ï¼š</p><p><img src="https://static001.geekbang.org/resource/image/6b/b2/6b1b328c130552f899c2f8cdc504fab2.png" alt=""></p><center><span class="reference">å›¾2 Infer çš„å·¥ä½œæµç¨‹å›¾</span></center><h2>å°ç»“</h2><p>åœ¨ä»Šå¤©è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å’Œä½ ä¸€ä¸€åˆ†æäº†Clang é™æ€åˆ†æå™¨ã€Inferå’ŒOCLint è¿™ä¸‰ä¸ª iOS é™æ€åˆ†æå·¥å…·ã€‚å¯¹äº iOS çš„é™æ€åˆ†æï¼Œè¿™ä¸‰ä¸ªå·¥å…·éƒ½æ˜¯åŸºäº Clang åº“å¼€å‘çš„ã€‚</p><p>å…¶ä¸­ Clang é™æ€åˆ†æå™¨å’Œ Xcodeçš„é›†æˆåº¦é«˜ï¼Œä¹Ÿæ”¯æŒå‘½ä»¤è¡Œã€‚ä¸è¿‡ï¼Œå®ƒä»¬æ£€æŸ¥çš„è§„åˆ™å°‘ï¼ŒåŸºæœ¬éƒ½æ˜¯åªèƒ½æ£€æŸ¥å‡ºè¾ƒå¤§çš„é—®é¢˜ï¼Œæ¯”å¦‚ç±»å‹è½¬æ¢é—®é¢˜ï¼Œè€Œå¯¹å†…å­˜æ³„éœ²é—®é¢˜æ£€æŸ¥çš„ä¾§é‡ç‚¹åˆ™åœ¨äºå¯ç”¨æ€§ã€‚</p><p>OCLint æ£€æŸ¥è§„åˆ™å¤šã€å®šåˆ¶æ€§å¼ºï¼Œèƒ½å¤Ÿå‘ç°å¾ˆå¤šæ½œåœ¨é—®é¢˜ã€‚ä½†ç¼ºç‚¹ä¹Ÿæ˜¯æ£€æŸ¥è§„åˆ™å¤ªå¤šï¼Œåè€Œå®¹æ˜“æ‰¾ä¸åˆ°é‡ç‚¹ï¼›å¯å®šåˆ¶åº¦è¿‡é«˜ï¼Œå¯¼è‡´æ˜“ç”¨æ€§å˜å·®ã€‚</p><p>Infer çš„æ•ˆç‡é«˜ï¼Œæ”¯æŒå¢é‡åˆ†æï¼Œå¯å°èŒƒå›´åˆ†æã€‚å¯å®šåˆ¶æ€§ä¸ç®—æœ€å¼ºï¼Œå±äºä¸­ç­‰ã€‚</p><p>ç»¼åˆæ¥çœ‹ï¼ŒInfer åœ¨å‡†ç¡®æ€§ã€æ€§èƒ½æ•ˆç‡ã€è§„åˆ™ã€æ‰©å±•æ€§ã€æ˜“ç”¨æ€§æ•´ä½“åº¦ä¸Šçš„æŠŠæ¡æ˜¯åšå¾—æœ€å¥½çš„ï¼Œæˆ‘è®¤ä¸ºè¿™äº›æ˜¯å†³å®šé™æ€åˆ†æå™¨å¥½ä¸å¥½æœ€é‡è¦çš„å‡ ç‚¹ã€‚æ‰€ä»¥ï¼Œæˆ‘æ¯”è¾ƒæ¨èçš„æ˜¯ä½¿ç”¨ Infer æ¥è¿›è¡Œä»£ç é™æ€åˆ†æã€‚</p><h2>è¯¾åä½œä¸š</h2><p>æˆ‘ä»¬ä»Šå¤©æåˆ°çš„ä¸‰æ¬¾é™æ€åˆ†æå·¥å…·éƒ½æ˜¯åŸºäº Clang åº“æ¥å¼€å‘çš„ã€‚é‚£ä¹ˆè¯·ä½ æ¥è¯´ä¸‹ï¼ŒClang ç»™è¿™ä¸‰æ¬¾å·¥å…·æä¾›äº†ä»€ä¹ˆèƒ½åŠ›å‘¢ï¼Ÿ</p><p>æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œæ¬¢è¿ä½ åœ¨è¯„è®ºåŒºç»™æˆ‘ç•™è¨€åˆ†äº«ä½ çš„è§‚ç‚¹ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·é˜…è¯»ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/f5/27/f5ee90aa0183a4bcc688980bd625eb27.jpg" alt=""></p><h2>ç²¾é€‰ç•™è¨€ï¼š</h2>
        <ul>
        
<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            Roger  2019-03-26 00:06:14
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            ç»™å®å®å–‚å¤œå¥¶ï¼Œé¡ºä¾¿æ¥çœ‹çœ‹æ–°çš„ä¸€è¯¾è®²ä»€ä¹ˆ [15èµ]
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            GoGoGo  2019-03-26 00:41:17
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            è€å¸ˆï¼ŒSwiftçš„è¦æ€ä¹ˆæï¼Ÿ [11èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-30 18:30:16</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">SwiftLint</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            drunkenMouse  2019-03-27 17:17:16
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            1. OClint æƒ³æ‰§è¡Œè‡ªå·±æŒ‡å®šçš„é¡¹ç›®ï¼Œè¿˜æ˜¯ä¸ä¼šã€‚ã€‚æœ€åæŸ¥äº†åˆ«çš„èµ„æ–™ï¼Œè¯´æ˜¯è¦å†™è„šæœ¬å®‰è£…xcprettyï¼Œè€Œä¸”è¯´æ˜¯ä¸ç»´æŠ¤äº†ã€‚<br><br>2. CLang é™æ€åˆ†æå™¨çš„clang â€”analyze -Xclang -analyzer-checker-help æˆ‘æ‰§è¡Œä¹‹åï¼Œå¹¶æ²¡æœ‰æˆåŠŸæ˜¾ç¤ºå¸¸ç”¨çš„Checkerã€‚ã€‚<br><br>3. Clang é™æ€åˆ†æå™¨çš„lib&#47;StaticAnalyzer&#47;Checkersè¿™ä¸ªè·¯å¾„ä¹Ÿæ²¡æœ‰æ‰¾åˆ°ï¼Œæ˜¯ä¸æ˜¯æ¢åœ°æ–¹äº†ï¼Ÿ<br><br>4. OClintã€Clangé™æ€åˆ†æå™¨ä¸Infer éƒ½éœ€è¦Clangç¼–è¯‘å™¨çš„LLVMå¯¹æºç åšè¯æ³•ã€è¯­æ³•ä¸Šçš„åˆ†æç”ŸæˆASTï¼ˆä¸€ç§é™æ€è¯­æ³•æ ‘ï¼Œä»£ç æ›´ç²¾ç®€ï¼Œéå†æ›´è½»æ¾ï¼‰ï¼Œç„¶åå¯¹ç”Ÿæˆçš„ASTåšé™æ€åˆ†æï¼Œè¾¾åˆ°ç¼–è¯‘ä»£ç å±‚é¢çš„åˆ†æã€‚<br><br>5. OCLintè¯´æ˜¯ä¸ç»´æŠ¤äº†ï¼Œæ‰€ä»¥é™¤äº†è§„åˆ™å¤ªå¤šå¯¼è‡´çš„é‡ç‚¹æ‰¾ä¸åˆ°ï¼Œå¯å®šåˆ¶æ€§è¿‡é«˜å¯¼è‡´çš„æ˜“ç”¨æ€§å˜å·®å¤–ï¼Œä¹ŸPASSï¼ˆå…¶å®æˆ‘å¯¹è¿™å¥è§„åˆ™å¤šæ‰€ä»¥XXçš„ç†è§£æ„Ÿå—ä¸æ˜¯å¾ˆæ·±ã€‚ã€‚ï¼‰<br><br>Clangé™æ€åˆ†æå™¨ï¼Œè§„åˆ™å°‘åªèƒ½æ£€ç­–è¾ƒå¤§é—®é¢˜ï¼Œå¯¹å†…å­˜æ³„æ¼ä¸€ç±»é—®é¢˜è‹¥æ— é”™è¯¯ä¹Ÿä¸æç¤ºå¤–ï¼Œå›è°ƒæ¬¡æ•°ä¹Ÿå¤šã€‚æ¯æ‰§è¡Œä¸€å¥ï¼Œéƒ½è¦å›è°ƒæ‰€æœ‰çš„Checkerçš„å›è°ƒå‡½æ•°ã€‚æ‰€ä»¥PASS<br><br>Infer å®šåˆ¶æ€§ä¸æ˜¯æœ€é«˜ï¼Œä½†æ˜¯ä¸å·®ã€‚å¯ä»¥å°èŒƒå›´åˆ†æï¼Œæ‰€ä»¥æ•ˆç‡é«˜ã€‚è¿˜æ”¯æŒå¢é‡åˆ†æï¼ˆä½¿ç”¨å·²ç¼“å­˜æ•°æ®ï¼Œéå¢é‡ä¼šæ¸…æ¥šç¼“å­˜ï¼‰ã€‚æ‰€ä»¥ï¼Œå»ºè®®Infer<br> [5èµ]
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            ybåè›‹biubiu  2019-03-26 09:06:03
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            clangä½œä¸ºllvmç¼–è¯‘å™¨å‰ç«¯ï¼Œè¿›è¡Œé¢„ç¼–è¯‘ã€è¯æ³•åˆ†æç”Ÿæˆtokenç‰‡ã€è¯­æ³•åˆ†æç”ŸæˆASTåï¼Œæä¾›ä¸€ä¸ªåˆ‡é¢ï¼Œå¼€å‘è€…å¯ä»¥åœ¨è¿™é‡Œåˆ©ç”¨clangç”Ÿæˆçš„ASTè¯­æ³•æ ‘è¿›è¡Œè‡ªå®šä¹‰è§„åˆ™éå†åˆ†æï¼Œclangä¹Ÿæä¾›äº†ç›¸åº”çš„checkerå’ŒæŠ›å‡ºè¯Šæ–­å¼‚å¸¸çš„diagnosisã€‚ [4èµ]
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            å¯»å¿ƒ  2019-04-04 10:18:38
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            è¿™ä¸ªé—®é¢˜æœ‰è°é‡åˆ°å—ï¼Ÿ<br>æ€ä¹ˆè§£å†³ï¼Ÿ<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br><br>Internal Error:   &#47;usr&#47;local&#47;Cellar&#47;infer&#47;0.15.0&#47;lib&#47;infer&#47;infer&#47;bin&#47;..&#47;lib&#47;python&#47;infer.py<br>  -j 4 --project-root &#47;Users&#47;yy&#47;å·¥ä½œ&#47;é¡¹ç›®&#47;test --out<br>  &#47;Users&#47;yy&#47;å·¥ä½œ&#47;é¡¹ç›®&#47;test&#47;infer-out -- xcodebuild build -scheme test<br>  -workspace test.xcworkspace -configuration Debug -sdk iphonesimulator:<br>  exited with code 1<br>Error backtrace:<br>Raised at file &quot;base&#47;Die.ml&quot; (inlined), line 25, characters 6-36<br>Called from file &quot;base&#47;Logging.ml&quot;, line 314, characters 58-80<br>Called from file &quot;integration&#47;Driver.ml&quot;, line 159, characters 2-16<br>Called from file &quot;integration&#47;Driver.ml&quot;, line 280, characters 6-420<br>Called from file &quot;infer.ml&quot;, line 20, characters 2-36<br>Called from file &quot;infer.ml&quot;, line 130, characters 8-54<br><br>&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; [2èµ]
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            å´å°å®‰  2019-03-29 14:51:08
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            infer æ‰«ææ€ä¹ˆè¿‡æ»¤ä¸æƒ³æ‰«æçš„æ–‡ä»¶å‘¢ï¼Œä¾‹å¦‚pod [2èµ]
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            Geek  2019-03-28 11:08:16
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            ä¼ ç»Ÿç¼–è¯‘å™¨çš„å·¥ä½œåŸç†ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯ä¸‰æ®µå¼çš„ï¼Œå¯ä»¥åˆ†ä¸ºå‰ç«¯ã€ä¼˜åŒ–å™¨å’Œåç«¯ã€‚å‰ç«¯è´Ÿè´£è§£ææºä»£ç ï¼Œæ£€æŸ¥è¯­æ³•é”™è¯¯ï¼Œå¹¶å°†å…¶ç¿»è¯‘ä¸ºæŠ½è±¡çš„è¯­æ³•æ ‘ï¼›ä¼˜åŒ–å™¨å¯¹è¿™ä¸€ä¸­é—´ä»£ç è¿›è¡Œä¼˜åŒ–ï¼Œè¯•å›¾ä½¿ä»£ç æ›´é«˜æ•ˆï¼›åç«¯åˆ™è´Ÿè´£å°†ä¼˜åŒ–å™¨ä¼˜åŒ–åçš„ä¸­é—´ä»£ç è½¬æ¢ä¸ºç›®æ ‡æœºå™¨çš„ä»£ç ï¼Œè¿™ä¸€è¿‡ç¨‹åç«¯ä¼šæœ€å¤§åŒ–çš„åˆ©ç”¨ç›®æ ‡æœºå™¨çš„ç‰¹æ®ŠæŒ‡ä»¤ï¼Œä»¥æé«˜ä»£ç çš„æ€§èƒ½ã€‚åŸºäºè¿™ä¸ªè®¤çŸ¥ï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸º LLVM åŒ…æ‹¬äº†ä¸¤ä¸ªæ¦‚å¿µï¼šä¸€ä¸ªå¹¿ä¹‰çš„ LLVM å’Œä¸€ä¸ªç‹­ä¹‰çš„ LLVM ã€‚å¹¿ä¹‰çš„ LLVM æŒ‡çš„æ˜¯ä¸€ä¸ªå®Œæ•´çš„ LLVM ç¼–è¯‘å™¨æ¡†æ¶ç³»ç»Ÿï¼ŒåŒ…æ‹¬äº†å‰ç«¯ã€ä¼˜åŒ–å™¨ã€åç«¯ã€ä¼—å¤šçš„åº“å‡½æ•°ä»¥åŠå¾ˆå¤šçš„æ¨¡å—ï¼›è€Œç‹­ä¹‰çš„ LLVM åˆ™æ˜¯èšç„¦äºç¼–è¯‘å™¨åç«¯åŠŸèƒ½çš„ä¸€ç³»åˆ—æ¨¡å—å’Œåº“ï¼ŒåŒ…æ‹¬ä»£ç ä¼˜åŒ–ã€ä»£ç ç”Ÿæˆã€JIT ç­‰ã€‚<br>--------------------- <br>ä½œè€…ï¼šè‰¾è”“è‰ <br>æ¥æºï¼šCSDN <br>åŸæ–‡ï¼šhttps:&#47;&#47;blog.csdn.net&#47;xhhjin&#47;article&#47;details&#47;81164076 <br>ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œè½¬è½½è¯·é™„ä¸Šåšæ–‡é“¾æ¥ï¼ [1èµ]
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            Geek_1ce2e0  2019-03-26 09:07:58
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            Swiftlintå°±è¡Œ [1èµ]
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            Nevermore  2019-03-26 08:41:24
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            SwiftLint [1èµ]
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            Yestin ZhaoğŸ€  2019-04-09 16:20:32
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            fatal error: &#39;Foundation&#47;Foundation.h&#39; file not found è¿™ä¹ˆè§£å†³ğŸ‘‡<br>infer -- clang -c -isysroot &#47;Applications&#47;Xcode.app&#47;Contents&#47;Developer&#47;Platforms&#47;iPhoneSimulator.platform&#47;Developer&#47;SDKs&#47;iPhoneSimulator.sdk Hello.m 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            mosn  2019-04-08 21:57:36
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            infer --skip-analysis-in-path Pods  
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            é’å†ˆ  2019-04-08 16:06:59
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            ä¸çŸ¥é“æœ‰äººçŸ¥é“infer æ€ä¹ˆé…ç½®é»‘åå•æ¥è¿‡æ»¤ä¸æƒ³æ‰«æçš„æ–‡ä»¶ï¼Œå¦‚podå¼•å…¥çš„AFNç­‰ä¸‰æ–¹åº“ï¼Ÿ 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            Geek_5b16d1  2019-04-02 18:16:45
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            infer -- xcodebuild -target JapanVillage -configuration Debug -sdk iphonesimulator<br>-bash: infer: command not foundä¸€ç›´æŠ¥æ‰¾ä¸åˆ° 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            é ‘ å¼µ  2019-04-01 16:42:15
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            inferè·‘ä¸èµ·æ¥çš„ å¸Œæœ›è¿™ç¯‡èƒ½å¸®åˆ°https:&#47;&#47;blog.csdn.net&#47;elisa1988&#47;article&#47;details&#47;46531745?utm_source=blogxgwz7 
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-04-02 17:52:46</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">èµ</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            ç®€ç”Ÿ  2019-03-30 15:57:23
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            ä¸ªäººè§‰å¾—è™½ç„¶OCLintæ£€æµ‹è§„åˆ™å¤šï¼Œæ˜“ç”¨æ€§æ²¡æœ‰Inferå¥½ã€‚ä½†æ˜¯Sonar+OCLintå¯ä»¥å¯¹æ£€æµ‹ç»“æœè¿›è¡Œä¸€ä¸ªå¯è§†åŒ–çš„ç®¡ç†ï¼Œè¿˜æ˜¯ä¼šåå‘äºé€‰æ‹©OCLintã€‚ğŸ˜Š 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            å¤©å±±é›ªè²  2019-03-30 09:03:59
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            å­¦ä¹ äº† 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            å´å°å®‰  2019-03-29 16:46:30
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            è¿™äº›é™æ€åˆ†æèƒ½åˆ†æå‡ºæ¥çš„ä¸å¤Ÿå‘¢ï¼Œåƒä¸€äº›å¾ªç¯å¼•ç”¨çš„ï¼Œ<br>NSBlockOperation *op = [NSBlockOperation blockOperationWithBlock:^{<br>        &#47;&#47; Blockä¸­å‡ºç°self .Block å¯¹ self æ˜¯å¼ºå¼•ç”¨.<br>        self.view.backgroundColor = [UIColor whiteColor];<br>        <br>    }];    &#47;&#47; å°†æ“ä½œæ·»åŠ åˆ°é˜Ÿåˆ—ä¸­.    &#47;&#47; self.queue å¯¹ op å°±æ˜¯å¼ºå¼•ç”¨.<br>    [self.queue addOperation:op];<br>è¿™ç§æ¯”è¾ƒç®€å•çš„é™æ€åˆ†æä¹Ÿåˆ†æä¸å‡ºæ¥ï¼Œè¿˜æœ‰æ²¡æœ‰å…¶ä»–å·¥å…·å¯ä»¥åšå‘¢ï¼Œå¦‚æœé¡¹ç›®å¤§ï¼Œè¿™ç§å¾ªç¯å¼•ç”¨è¦æ‰¾å‡ºæ¥è¿˜æ˜¯å¾ˆè´¹æ—¶é—´ 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            scorpiozj  2019-03-29 08:17:13
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            è¯·é—®Xcodeä¸­çš„é™æ€æ£€æŸ¥å°±æ˜¯clang é™æ€æ£€æŸ¥å—ï¼Ÿ 
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-29 11:38:00</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">æ˜¯çš„</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            drunkenMouse  2019-03-28 17:20:51
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            å…³äºbrewï¼Œå› ä¸ºæˆ‘ä¹‹å‰æ˜¯åœ¨å¾ˆä¹…ä¹‹å‰å°±å®‰è£…äº†ï¼Œæ‰€ä»¥ç°åœ¨åœ¨å®‰è£…inferçš„æ—¶å€™ä¼šå‡ºç°éƒ¨åˆ†æ‰€éœ€æ’ä»¶ç‰ˆæœ¬è¿‡ä½çš„æƒ…å†µã€‚ç„¶åæˆ‘æƒ³å‡çº§æ’ä»¶ï¼Œä¹Ÿéœ€è¦å…ˆæ›´æ–°brewï¼Œä½†æˆ‘çš„brewæ›´æ–°ä¹Ÿæ˜¯å¤±è´¥ï¼šError: &#47;usr&#47;local must be writable! é”™è¯¯<br><br>è¿™ç§æƒ…å†µä¸‹ï¼Œè¿˜æƒ³æ˜¯ä½¿ç”¨Brewè¿›è¡Œå®‰è£…çš„è¯ï¼Œéœ€è¦å¦‚ä¸‹æ“ä½œ:<br>1.å¸è½½æ—§çš„brew<br>```<br>&#47;usr&#47;bin&#47;ruby -e &quot;$(curl -fsSL https:&#47;&#47;raw.githubusercontent.com&#47;Homebrew&#47;install&#47;master&#47;uninstall)â€<br><br>```<br>2.å®‰è£…æ–°çš„brew<br>```<br>&#47;usr&#47;bin&#47;ruby -e &quot;$(curl -fsSL https:&#47;&#47;raw.githubusercontent.com&#47;Homebrew&#47;install&#47;master&#47;install)&quot;<br>```<br>ä¹‹åï¼Œå†æŒ‰ç…§inferçš„å®‰è£…æç¤ºä¸€æ­¥æ­¥å®‰è£…ã€‚ 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            å¤§å¤§ç›†å­  2019-03-28 17:05:21
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            infer --keep-going --no-xcpretty -- xcodebuild -workspace xxx.xcworkspace -scheme xxx -configuration Debug -sdk iphonesimulator<br>è¯•äº†å¥½å¤šå‘½ä»¤ï¼Œè¿™ä¸ªå¯ä»¥åˆ†æå®Œæˆï¼Œçœ‹åˆ†æç»“æœbugs.txtæ–‡ä»¶ï¼Œé‡Œé¢æœ‰å¾ˆå¤šcocoapodså¼•å…¥çš„ç¬¬ä¸‰æ–¹åº“çš„é—®é¢˜ï¼Œæ¯”å¦‚Masonry  RACä¹‹ç±»çš„ï¼Œå¤ªå¤šäº†ï¼Œè¦æ€ä¹ˆå±è”½æ‰ 
        </div>
        
    </div>
</li>
            </ul>
</div>
</body>
</html>